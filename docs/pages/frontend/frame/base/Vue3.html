<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. Vue2 options Api 和 Vue3 conponents Api 对比</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.a4bcae5a.css" as="style"><link rel="preload" href="/assets/js/app.8adff89b.js" as="script"><link rel="preload" href="/assets/js/2.92746db6.js" as="script"><link rel="preload" href="/assets/js/4.b400c384.js" as="script"><link rel="prefetch" href="/assets/js/10.fb9ed718.js"><link rel="prefetch" href="/assets/js/11.25a6a870.js"><link rel="prefetch" href="/assets/js/12.33bcae31.js"><link rel="prefetch" href="/assets/js/13.cc8f1e5a.js"><link rel="prefetch" href="/assets/js/14.5d51d81e.js"><link rel="prefetch" href="/assets/js/15.dc66e88d.js"><link rel="prefetch" href="/assets/js/16.1570cd25.js"><link rel="prefetch" href="/assets/js/17.9c369382.js"><link rel="prefetch" href="/assets/js/18.d59a60b2.js"><link rel="prefetch" href="/assets/js/19.d8b5b3cb.js"><link rel="prefetch" href="/assets/js/20.27ee6270.js"><link rel="prefetch" href="/assets/js/21.074c7752.js"><link rel="prefetch" href="/assets/js/22.1f6e5021.js"><link rel="prefetch" href="/assets/js/23.9226a276.js"><link rel="prefetch" href="/assets/js/24.87ce7d1e.js"><link rel="prefetch" href="/assets/js/25.0237cde4.js"><link rel="prefetch" href="/assets/js/26.a668669d.js"><link rel="prefetch" href="/assets/js/27.48f35a65.js"><link rel="prefetch" href="/assets/js/28.f5f5fde1.js"><link rel="prefetch" href="/assets/js/29.21edeff4.js"><link rel="prefetch" href="/assets/js/3.01b0843e.js"><link rel="prefetch" href="/assets/js/30.62fee80e.js"><link rel="prefetch" href="/assets/js/31.57aad1c9.js"><link rel="prefetch" href="/assets/js/32.d837b65e.js"><link rel="prefetch" href="/assets/js/33.121b47bf.js"><link rel="prefetch" href="/assets/js/34.630ad5c7.js"><link rel="prefetch" href="/assets/js/35.a783a961.js"><link rel="prefetch" href="/assets/js/36.37a1f6a9.js"><link rel="prefetch" href="/assets/js/5.9a07b814.js"><link rel="prefetch" href="/assets/js/6.f4896fc7.js"><link rel="prefetch" href="/assets/js/7.cab7d6e0.js"><link rel="prefetch" href="/assets/js/8.03e68f16.js"><link rel="prefetch" href="/assets/js/9.5ade8604.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a4bcae5a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-vue2-options-api-和-vue3-conponents-api-对比"><a href="#_1-vue2-options-api-和-vue3-conponents-api-对比" class="header-anchor">#</a> 1. Vue2 options Api 和 Vue3 conponents Api 对比</h2> <h3 id="vue2-options-api示例图"><a href="#vue2-options-api示例图" class="header-anchor">#</a> Vue2 options Api示例图</h3> <img src="/assets/img/vue2oapi_1.59096bec.png" style="width:500px;"> <img src="/assets/img/vue2oapi_2.a6a05c6c.png" style="width:200px;"> <h3 id="vue3-conponents-api"><a href="#vue3-conponents-api" class="header-anchor">#</a> Vue3 conponents Api</h3> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkEAAAMcCAYAAABXY3EwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABfYSURBVHhe7dlNz11lAYXhThSDUkEEGpW2lH5RSqEtpVLatHwIBQlSCUTwAyQaiZEECUYmigMHqAkDHBBjHBATdUgkxvgLjAn+A0cm/o5H96uMPMzoytrvcw2uk72H+zw7WXfO2XH4yF0DAGAmO3fuHCIIAJiOCAIApiSCAIApiSAAYEoiCACYkggCAKYkggCAKYkgAGBKIggAmJIIAgCmJIIAgCmJIABgSiIIAJiSCAIApiSCAIApiSAAYEoiCACYkggCAKYkggCAKYkgAGBKIggAmJIIAgCmJIIAgCmJIABgSiIIAJjSaiLowPGTY+/5o2P3g4cBgMts2dxlezdt8naxmghaDuOaF3aNK390FQBwmS2bu2zvpk3eLlYTQUuVLoey41c7AIDLbNncZXs3bfJ2IYIAgP8jgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCoiggAgRwQVEUEAkCOCioggAMgRQUVEEADkiKAiIggAckRQEREEADkiqIgIAoAcEVREBAFAjggqIoIAIEcEFRFBAJAjgoqIIADIEUFFRBAA5IigIiIIAHJEUBERBAA5IqiICAKAHBFURAQBQI4IKiKCACBHBBURQQCQI4KKiCAAyBFBRUQQAOSIoCIiCAByRFAREQQAOSKoiAgCgBwRVEQEAUCOCCqy574jY+f3rx0f/dnHAIDLbNncZXs3bfJ2sZoI2nfm2Ljh6T3jmhd2AQCX2bK5y/Zu2uTtYjURdODkibH7gSPjs48eAAAus2Vzl+3dtMnbxWoi6NBtp7YOY/+pOwCAy2zZ3GV7N23ydrGaCAIA+DCJIABgSiIIAJiSCAIAprSaCDp1+8nx+Jmj4xvnDwMAIU+dOzIunj427jl+fBw7eufGjV6r1UTQEkBvP7Nr/O27VwEAIe8+f+14/dLu8dyFw1shtGmj12o1EbTU6HIY4yc7AICQf75yxfjD168fL1+8edx75x0bN3qtRBAA8IFEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBR4/c3S8/cyurRACADLeff7a8fql3eO5C4fHPcePb9zotVpNBJ26/eRWCC2/CAEAGU+dOzIunj62FUDHjt65caPXajURBADwYRJBAMCURBAAMCURBABMSQQBAFMSQQDAlFYTQQduv3/sPfO1sfv8CwBAyJ6zz499p58c+09cHIduO7txo9dqNRG0BNA1z/x+XPndvwMAITu/+Zdx/aU3x433fm8rhDZt9FqtJoKWGl0OY8drAwAI+cgr/xpXf+Od8ZmHfzxuvvOxjRu9ViIIAPhAIqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAnvPPjc++ey744qX/gEAhHz8O38dn37y1+Nz97889p94ZONGr9VqImipz888/Nq47om3AICQGx77xVYA3XT30+Pg7fdt3Oi1Wk0ELV/8cgB7zn0bAAjZe8+zY99dT4wDxx8ah46e3bjRa7WaCDp09MxWCB2440EAIOaBcfDYhf8G0K2f37jRa7WaCAIA+DCJIABgSiIIAJiSCAIApiSCAIApiSAAYEqriaATh86Ph/Z9eVza81UAIOSLNz01Lux/dNx18P5x2y1nNm70Wq0mgpYA+umnfj5+e+XvAICQNz/51njphlf/E0Rf2wqhTRu9VquJoKVGl8N4b8d7AEDInz765/H6NW+MZz/3wjhz4KGNG71WIggA+EAiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqiACAKAPBFUQAQBQJ4IKiCCACBPBBUQQQCQJ4IKiCAAyBNBBUQQAOSJoAIiCADyRFABEQQAeSKogAgCgDwRVEAEAUCeCCogggAgTwQVEEEAkCeCCoggAMgTQQVEEADkiaACIggA8kRQAREEAHkiqIAIAoA8EVRABAFAnggqIIIAIE8EFRBBAJAnggqIIADIE0EFRBAA5ImgAiIIAPJEUAERBAB5IqjAIzc9Od64+pfjnSv+CACE/OYTb49Xr3ttPLX7uXH64AMbN3qtVhNBZw9cHN/67Ivj1etfGz/8n+V6hvtZvP/csB1sesdhjV7c9YPxlRufHw/se3wcP3R+40av1Woi6MTh8+MLNz8+vrT36fHY/yzXM9zP4v3nhu1g0zsOa7T8E3Nh/6Pj9MH7x223nNm40Wu1mgi69Za7t0Lo1KH7AICQk4cujDsOn9sKoCNHTm/c6LVaTQQBAHyYRBAAMCURBABMSQQBAFMSQQDAlEQQADAlEQQATEkEAQBTEkEAwJREEAAwJREEAExJBAEAUxJBAMCURBAAMCURBABMSQQBAFMSQQDAlEQQADAlEQQATEkEAQBTEkEAwJREEAAwJREEAExJBAEAUxJBAMCURBAAMCURBABMSQQBAFMSQQDAlEQQADAlEQQATEkEAQBTEkEAwJREEAAwJREEAExJBAEAUxJBAMCURBAAMCURBABMSQQBAFMSQQDAlEQQADAlEQQATEkEAQBTEkEAwJREEAAwJREEAExJBAEAUxJBAMCUtiJo+QAAmMvO8W8238VgTJx5/AAAAABJRU5ErkJggg==" style="width:300px;"> <p>当这个组件的代码超过几百行时，这时增加或者修改某个需求， 就要在 data、methods、computed 以及 mounted 中反复的跳转，这其中的的痛苦写过的都知道。</p> <p>vue2.x 版本给出的解决方案就是 Mixin，但是也会有相对应的问题<br>
1、命名冲突问题<br>
2、不清楚暴露出来的变量的作用<br>
3、逻辑重用到其他 component 经常遇到问题</p> <p>但本来mixin本来的作用就是共享组件之间的可复用功能</p> <h2 id="_2、vue2-组件只允许有一个根节点-vue3允许有多个"><a href="#_2、vue2-组件只允许有一个根节点-vue3允许有多个" class="header-anchor">#</a> 2、Vue2 组件只允许有一个根节点，Vue3允许有多个</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Vue2</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Vue3</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_3、响应式数据拦截监听方法比较"><a href="#_3、响应式数据拦截监听方法比较" class="header-anchor">#</a> 3、响应式数据拦截监听方法比较</h2> <p>Vu2采用的是 <strong>Object.defineProperty</strong>， Vue3采用的是 <strong>Proxy</strong></p> <p>Object.defineProperty 虽然已经能够实现双向绑定了，但是他还是有缺陷的。<br>
1、只能对属性进行数据劫持，所以需要深度遍历整个对象<br>
2、对于数组不能监听到数据的变化<br>
3、Proxy 的第二个参数可以有 13 种拦截方法，比 Object.defineProperty() 要更加丰富<br>
4、Proxy 的兼容性不如 Object.defineProperty() 不能使用 polyfill 来处理兼容性</p> <p>而Object.defineProperty这个对于数组缺陷可以通过vue提供的set方法去解决</p> <p>Proxy能够原生支持监听数组变化，并且可以直接对整个对象进行拦截</p> <h2 id="_4、vue3中的setip生命周期中没有this"><a href="#_4、vue3中的setip生命周期中没有this" class="header-anchor">#</a> 4、Vue3中的setip生命周期中没有this</h2> <p>setup 在生命周期 beforecreate 前执行，此时 vue 对象还未创建，因无法使用我们在 vue2.x 常用的 this。</p> <h2 id="_5、watch-和-watcheffect-区别"><a href="#_5、watch-和-watcheffect-区别" class="header-anchor">#</a> 5、watch 和 watchEffect 区别</h2> <p>我们已经大概知道了 watch 和 watchEffect 的用法，那么它们之间的区别相信大家也了解了一些，这里我们总结一下它们之间的区别。<br>
1、watch 和 watchEffect 都能监听响应式数据的变化，不同的是它们监听数据变化的方式不同。<br>
2、watch 会明确监听某一个响应数据，而 watchEffect 则是隐式的监听回调函数中响应数据。<br>
3、watch 在响应数据初始化时是不会执行回调函数的，watchEffect 在响应数据初始化时就会立即执行回调函数。</p> <p>监听器的回调函数中或取 DOM，这个时候的 DOM 是更新前，那怎么取更新后的dom？<br> <strong>给监听器多传递一个参数选项即可：flush: 'post'。watch 和 watchEffect 同理。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">watch</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  flush<span class="token operator">:</span> <span class="token string">'post'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  flush<span class="token operator">:</span> <span class="token string">'post'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_6、watch监听响应式对象中的某个属性"><a href="#_6、watch监听响应式对象中的某个属性" class="header-anchor">#</a> 6、watch监听响应式对象中的某个属性</h2> <h3 id="_6-1、使用-getter-函数的形式"><a href="#_6-1、使用-getter-函数的形式" class="header-anchor">#</a> 6-1、使用 getter 函数的形式</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> number<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-2、使用watcheffect"><a href="#_6-2、使用watcheffect" class="header-anchor">#</a> 6-2、使用watchEffect</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">countAdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  number<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;新的值:&quot;</span><span class="token punctuation">,</span> number<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_7、vue3-diff算法和-vue2-的区别"><a href="#_7、vue3-diff算法和-vue2-的区别" class="header-anchor">#</a> 7、Vue3 Diff算法和 Vue2 的区别</h2> <p><strong>编译阶段的优化：</strong><br>
1、事件缓存：将事件缓存(如: @click)，可以理解为变成静态的了<br>
2、静态提升：第一次创建静态节点时保存，后续直接复用<br>
3、添加静态标记：给节点添加静态标记，以优化 Diff 过程</p> <p>由于编译阶段的优化，除了能更快的生成虚拟 DOM 以外，还使得 Diff 时可以跳过&quot;永远不会变化的节点&quot;，Diff 优化如下：</p> <p>Vue2 是全量 Diff。<br>
Vue3 是静态标记 + 非全量 Diff， 使用最长递增子序列优化了对比流程。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8adff89b.js" defer></script><script src="/assets/js/2.92746db6.js" defer></script><script src="/assets/js/4.b400c384.js" defer></script>
  </body>
</html>
