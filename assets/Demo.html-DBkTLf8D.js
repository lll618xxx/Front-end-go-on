import{_ as a,c as t,a as i,o as l}from"./app-b-jG4Ro8.js";const n={};function s(r,e){return l(),t("div",null,[...e[0]||(e[0]=[i('<h2 id="_1、谷歌翻译插件" tabindex="-1"><a class="header-anchor" href="#_1、谷歌翻译插件"><span>1、谷歌翻译插件</span></a></h2><h3 id="一、核心实现流程" tabindex="-1"><a class="header-anchor" href="#一、核心实现流程"><span>一、核心实现流程</span></a></h3><p>用户触发翻译 → 获取网页文本 → 调用翻译API → 替换页面内容 → 恢复功能</p><h3 id="二、各环节用到的api" tabindex="-1"><a class="header-anchor" href="#二、各环节用到的api"><span>二、各环节用到的API</span></a></h3><h4 id="_1-用户触发翻译" tabindex="-1"><a class="header-anchor" href="#_1-用户触发翻译"><span>1. 用户触发翻译</span></a></h4><ul><li>触发时机 <ul><li>chrome.action.onClicked：点击扩展图标弹出翻译面板</li><li>chrome.contextMenus：右键菜单添加&quot;翻译选中文字&quot;</li><li>chrome.commands：设置快捷键（如Ctrl+Shift+T）</li></ul></li></ul><h4 id="_2-获取网页文本内容" tabindex="-1"><a class="header-anchor" href="#_2-获取网页文本内容"><span>2. 获取网页文本内容</span></a></h4><ul><li>Content Scripts：注入到网页中，通过 documentAPI​ 提取文本</li><li>document.createTreeWalker()​ 或 querySelectorAll()：遍历DOM节点</li><li>过滤逻辑：排除<code>&lt;script&gt;</code>、<code>&lt;style&gt;</code>等不需要翻译的标签</li></ul><h4 id="_3-文本分析与处理" tabindex="-1"><a class="header-anchor" href="#_3-文本分析与处理"><span>3. 文本分析与处理</span></a></h4><ul><li>DOMParser：解析HTML结构</li><li>RangeAPI：处理选中的文本范围</li><li>Node.textContent​ 和 Element.innerText：提取纯文本</li></ul><h4 id="_4-调用翻译api" tabindex="-1"><a class="header-anchor" href="#_4-调用翻译api"><span>4. 调用翻译API</span></a></h4><ul><li>fetch()​ 或 XMLHttpRequest：调用谷歌翻译API</li><li>API端点：translate.googleapis.com（免费的公共API）</li><li>chrome.storage：存储用户选择的语言偏好</li></ul><h4 id="_5-替换页面内容" tabindex="-1"><a class="header-anchor" href="#_5-替换页面内容"><span>5. 替换页面内容</span></a></h4><ul><li>DOM操作API：innerHTML、textContent（最安全）、setAttribute等</li><li>MutationObserver：监听动态加载的内容并翻译</li><li>chrome.runtime.sendMessage()：Content Script与Background通信</li></ul><h4 id="_6-状态管理与恢复" tabindex="-1"><a class="header-anchor" href="#_6-状态管理与恢复"><span>6. 状态管理与恢复</span></a></h4><ul><li>chrome.storage.local：保存翻译状态、原文缓存</li><li>WeakMap​ 或自定义映射表：记录原文与译文的对应关系</li></ul>',16)])])}const c=a(n,[["render",s]]),h=JSON.parse('{"path":"/pages/assit/chrome/Demo.html","title":"","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1768227669000,"contributors":[{"name":"nxiang","username":"","email":"837435186@qq.com","commits":1}],"changelog":[{"hash":"a175e0424cdd35b906d7e41044c5ad2fd7d3f606","time":1768227669000,"email":"837435186@qq.com","author":"nxiang","message":"update"}]},"filePathRelative":"pages/assit/chrome/Demo.md"}');export{c as comp,h as data};
