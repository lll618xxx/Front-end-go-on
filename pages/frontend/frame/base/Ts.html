<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>首页</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/Front-end-go-on/logo.png">
    <meta name="description" content="前端记录">
    
    <link rel="preload" href="/Front-end-go-on/assets/css/0.styles.b60766ec.css" as="style"><link rel="preload" href="/Front-end-go-on/assets/js/app.4de2216f.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/2.df6f2bda.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/1.c1a4e5b8.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/59.d6eb4901.js" as="script"><link rel="prefetch" href="/Front-end-go-on/assets/js/10.c33fa5a6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/11.b4e31df2.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/12.6b377ebf.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/13.1c3423bc.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/14.9333c3d4.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/15.d671e7a1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/16.8cfb6de2.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/17.cb996539.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/18.3e04b161.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/19.29649bee.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/20.67b89363.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/21.f669ad42.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/22.a0de55db.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/23.9bf64516.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/24.039560e6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/25.d60682a2.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/26.d7cd4c12.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/27.d6b9619d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/28.fd7e4ae7.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/29.2f8b5e19.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/3.9313d513.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/30.c75ac263.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/31.78970b60.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/32.6afcda0a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/33.eed7a6e2.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/34.cea152da.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/35.5f047340.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/36.733ad1de.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/37.52144d4a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/38.a328abdd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/39.354fc377.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/4.cfb78dd9.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/40.13d1a4fd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/41.0d804cec.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/42.cba0181b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/43.6f3cc935.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/44.03cec223.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/45.6ce04498.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/46.26334e6b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/47.681aef6a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/48.3f68a4c3.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/49.bb0cf1a1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/5.b689cad7.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/50.137ba6b9.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/51.5bde9dce.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/52.bfa69502.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/53.4a7321ce.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/54.8fbcc997.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/55.b9fd6947.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/56.97f10f08.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/57.060c7b70.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/58.3645f53b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/6.83fd7a3c.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/60.cac4fe16.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/61.eba9935b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/62.2d876f97.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/63.64b84187.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/64.9e5bbcad.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/65.bf17a9a7.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/66.242a2e52.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/67.6c8063e9.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/68.dd6fd021.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/69.25be634f.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/7.b1e8ce5a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/70.ce9e3fb9.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/71.31949d89.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/72.50e53e59.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/73.64d840bf.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/74.597e122d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/75.2f29935b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/76.5e4552e8.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/77.82e62ad5.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/78.313fe5dd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/79.c00cd408.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/80.0b6e643e.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/vendors~docsearch.aa845c0e.js">
    <link rel="stylesheet" href="/Front-end-go-on/assets/css/0.styles.b60766ec.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-go-on/" class="home-link router-link-active"><img src="/Front-end-go-on/logo.png" alt="首页" class="logo"> <span class="site-name can-hide">首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="sidebar-link">HTML基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Css.html" class="sidebar-link">CSS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Js.html" class="sidebar-link">JS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/ES6.html" class="sidebar-link">ES6基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Http.html" class="sidebar-link">HTTP基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Cache.html" class="sidebar-link">前端缓存</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Performance.html" class="sidebar-link">页面性能</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Algorithm.html" class="sidebar-link">数据结构基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/MyArticle.html" class="sidebar-link">我的文章</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html" class="sidebar-link">Vue2基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/Vue.html" class="sidebar-link">Vue2进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Vue3.html" class="sidebar-link">Vue3基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/Vue3.html" class="sidebar-link">Vue3进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/React.html" class="sidebar-link">React基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/React.html" class="sidebar-link">React进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/React18.html" class="sidebar-link">React18新特性</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/VueVsReact.html" class="sidebar-link">Vue和React对比</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/RN.html" class="sidebar-link">RN基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/RNEnv.html" class="sidebar-link">RN环境搭建和打包</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Packaging.html" class="sidebar-link">打包工具</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html" aria-current="page" class="active sidebar-link">TS基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_1-什么是typescript" class="sidebar-link">1.什么是TypeScript</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_2-数据类型​" class="sidebar-link">2.数据类型​</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_3-类型声明和类型推断的区别" class="sidebar-link">3.类型声明和类型推断的区别</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_4-接口的作用以及使用场景-和类型别名的区别" class="sidebar-link">4.接口的作用以及使用场景，和类型别名的区别</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_5-泛型-generics" class="sidebar-link">5.泛型（Generics）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_6-枚举-enum" class="sidebar-link">6.枚举（Enum）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_7-处理可空类型-nullable-types" class="sidebar-link">7.处理可空类型（Nullable Types）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_8-什么是联合类型和交叉类型" class="sidebar-link">8.什么是联合类型和交叉类型</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_9-命名空间-namespace-和模块-module" class="sidebar-link">9.命名空间（Namespace）和模块（Module）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_10-类型断言-type-assertion" class="sidebar-link">10.类型断言（Type Assertion）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_11-typescript中的可选参数和默认参数" class="sidebar-link">11.TypeScript中的可选参数和默认参数</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_12-索引类型-index-types" class="sidebar-link">12.索引类型（Index Types）</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_13-const-和-readonly-对比" class="sidebar-link">13.const 和 readonly 对比</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_14-any-类型的作用与滥用后果" class="sidebar-link">14.any 类型的作用与滥用后果</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_15-ts-中-this-的注意事项" class="sidebar-link">15.TS 中 this 的注意事项</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html#_16-协变、逆变、双变和抗变" class="sidebar-link">16.协变、逆变、双变和抗变</a></li></ul></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Nuxt.html" class="sidebar-link">Nuxt基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Applet.html" class="sidebar-link">小程序基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/MicroFrontend.html" class="sidebar-link">微前端基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/UniApp.html" class="sidebar-link">uni-app基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Business.html" class="sidebar-link">业务相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码练习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/exercise/Css.html" class="sidebar-link">CSS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Js.html" class="sidebar-link">JS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Algorithm.html" class="sidebar-link">算法代码练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/skill/Tools.html" class="sidebar-link">工具库</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Utils.html" class="sidebar-link">工具函数</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/CSSAnimation.html" class="sidebar-link">CSS动画库</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Css.html" class="sidebar-link">CSS代码技巧</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Js.html" class="sidebar-link">JS代码技巧</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Project.html" class="sidebar-link">项目技巧</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="https://www.typescriptlang.org/play/?#code/PTAEHUFMBsGMHsC2lQBd5oBYoCoE8AHSAZVgCcBLA1UABWgEM8BzM+AVwDsATAGiwoBnUENANQAd0gAjQRVSQAUCEmYKsTKGYUAbpGF4OY0BoadYKdJMoL+gzAzIoz3UNEiPOofEVKVqAHSKymAAmkYI7NCuqGqcANag8ABmIjQUXrFOKBJMggBcISGgoAC0oACCbvCwDKgU8JkY7p7ehCTkVDQS2E6gnPCxGcwmZqDSTgzxxWWVoASMFmgYkAAeRJTInN3ymj4d-jSCeNsMq-wuoPaOltigAKoASgAywhK7SbGQZIIz5VWCFzSeCrZagNYbChbHaxUDcCjJZLfSDbExIAgUdxkUBIursJzCFJtXydajBBCcQQ0MwAUVWDEQC0gADVHBQGNJ3KAALygABEAAkYNAMOB4GRonzFBTBPB3AERcwABS0+mM9ysygc9wASmCKhwzQ8ZC8iHFzmB7BoXzcZmY7AYzEg-Fg0HUiQ58D0Ii8fLpDKZgj5SWxfPADlQAHJhAA5SASPlBFQAeS+ZHegmdWkgR1QjgUrmkeFATjNOmGWH0KAQiGhwkuNok4uiIgMHGxCyYrA4PCCJSAA" target="_blank" rel="noopener noreferrer">TypeScript在线调试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-什么是typescript"><a href="#_1-什么是typescript" class="header-anchor">#</a> 1.什么是TypeScript</h2> <p>Typescript 是一个强类型的 JavaScript 超集，支持ES6语法，支持面向对象编程的概念，如类、接口、继承、泛型等。<br> <strong>Typescript并不直接在浏览器上运行，需要编译器编译成纯Javascript来运行。</strong></p> <h2 id="_2-数据类型​"><a href="#_2-数据类型​" class="header-anchor">#</a> 2.数据类型​</h2> <h3 id="一、基础类型-primitive-types"><a href="#一、基础类型-primitive-types" class="header-anchor">#</a> 一、基础类型（Primitive Types）</h3> <h4 id="_1-原始类型"><a href="#_1-原始类型" class="header-anchor">#</a> 1. 原始类型</h4> <table><thead><tr><th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td><code>string</code></td> <td>文本类型</td> <td><code>let name: string = &quot;Alice&quot;</code></td></tr> <tr><td><code>number</code></td> <td>数字（含整数/浮点数）</td> <td><code>let age: number = 25</code></td></tr> <tr><td><code>boolean</code></td> <td>布尔值</td> <td><code>let isDone: boolean = true</code></td></tr> <tr><td><code>null</code></td> <td>空值</td> <td><code>let n: null = null</code></td></tr> <tr><td><code>undefined</code></td> <td>未定义</td> <td><code>let u: undefined = undefined</code></td></tr> <tr><td><code>symbol</code></td> <td>唯一标识符（ES6）</td> <td><code>const sym: symbol = Symbol('key')</code></td></tr> <tr><td><code>bigint</code></td> <td>大整数（ES2020）</td> <td><code>let big: bigint = 100n</code></td></tr></tbody></table> <h4 id="_2-特殊原始类型​"><a href="#_2-特殊原始类型​" class="header-anchor">#</a> 2. 特殊原始类型​</h4> <table><thead><tr><th>类型</th> <th>描述</th> <th>示例</th></tr></thead> <tbody><tr><td><code>void</code></td> <td>表示无返回值（函数）</td> <td><code>function log(): void { console.log('Done') }</code></td></tr> <tr><td><code>never</code></td> <td>表示永不返回（如抛出错误）</td> <td><code>function error(): never { throw new Error() }</code></td></tr></tbody></table> <h3 id="二、对象类型-object-types-​"><a href="#二、对象类型-object-types-​" class="header-anchor">#</a> 二、对象类型（Object Types）​</h3> <h4 id="_1-数组​"><a href="#_1-数组​" class="header-anchor">#</a> 1. 数组​</h4> <table><thead><tr><th>语法</th> <th>示例</th></tr></thead> <tbody><tr><td><code>类型[]</code></td> <td><code>let nums: number[] = [1, 2]</code></td></tr> <tr><td><code>Array&lt;类型&gt;</code></td> <td><code>let strs: Array&lt;string&gt; = ['a', 'b']</code></td></tr> <tr><td>只读数组</td> <td><code>const roArr: readonly number[] = [1, 2]</code></td></tr></tbody></table> <h4 id="​2-元组-tuple-​"><a href="#​2-元组-tuple-​" class="header-anchor">#</a> ​2. 元组（Tuple）​</h4> <p>固定长度和类型的数组：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// 报错：第二个元素必须是 number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_3-对象​"><a href="#_3-对象​" class="header-anchor">#</a> 3. 对象​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 接口定义</span>
<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 可选属性</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 只读属性</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
user<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>       <span class="token comment">// 报错：id 是只读的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_4-函数​"><a href="#_4-函数​" class="header-anchor">#</a> 4. 函数​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 函数类型</span>
<span class="token keyword">type</span> <span class="token class-name">AddFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token comment">// 实现</span>
<span class="token keyword">const</span> add<span class="token operator">:</span> <span class="token function-variable function">AddFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="三、高级类型-advanced-types-​"><a href="#三、高级类型-advanced-types-​" class="header-anchor">#</a> 三、高级类型（Advanced Types）​</h3> <h4 id="_1-联合类型-union-​"><a href="#_1-联合类型-union-​" class="header-anchor">#</a> 1. 联合类型（Union）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
value <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
value <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>      <span class="token comment">// OK</span>
value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-交叉类型-intersection-​"><a href="#_2-交叉类型-intersection-​" class="header-anchor">#</a> 2. 交叉类型（Intersection）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span> <span class="token comment">// { a: number, b: string }</span>

<span class="token keyword">const</span> obj<span class="token operator">:</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">&quot;text&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-字面量类型-literal-​"><a href="#_3-字面量类型-literal-​" class="header-anchor">#</a> 3. 字面量类型（Literal）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> direction<span class="token operator">:</span> <span class="token string">&quot;up&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;down&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">;</span>
direction <span class="token operator">=</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// OK</span>
direction <span class="token operator">=</span> <span class="token string">&quot;north&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_4-枚举-enum-​"><a href="#_4-枚举-enum-​" class="header-anchor">#</a> 4. 枚举（Enum）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red <span class="token operator">=</span> <span class="token string">&quot;RED&quot;</span><span class="token punctuation">,</span>
  Green <span class="token operator">=</span> <span class="token string">&quot;GREEN&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> color<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_5-类型别名-type-alias-​"><a href="#_5-类型别名-type-alias-​" class="header-anchor">#</a> 5. 类型别名（Type Alias）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Point</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> p<span class="token operator">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_6-索引签名-index-signature-​"><a href="#_6-索引签名-index-signature-​" class="header-anchor">#</a> 6. 索引签名（Index Signature）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">StringDict</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 任意 string 键，值必须是 string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> dict<span class="token operator">:</span> StringDict <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;25&quot;</span> <span class="token comment">// 报错：值必须是 string</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="四、其他类型​"><a href="#四、其他类型​" class="header-anchor">#</a> 四、其他类型​</h3> <h4 id="_1-any-与-unknown"><a href="#_1-any-与-unknown" class="header-anchor">#</a> 1. any 与 unknown</h4> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td><code>any</code></td> <td>关闭类型检查（慎用）</td></tr> <tr><td><code>unknown</code></td> <td>安全版 <code>any</code>，操作前需类型检查</td></tr></tbody></table> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> unsafe<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
unsafe<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译通过，运行时可能报错</span>
<span class="token keyword">let</span> safe<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> safe <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  safe<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 安全操作</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-泛型-generics-​"><a href="#_2-泛型-generics-​" class="header-anchor">#</a> 2. 泛型（Generics）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显式指定类型</span>
<span class="token keyword">const</span> inferred <span class="token operator">=</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 自动推断为 number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-类型声明和类型推断的区别"><a href="#_3-类型声明和类型推断的区别" class="header-anchor">#</a> 3.类型声明和类型推断的区别</h2> <p>类型声明是显式地为变量或函数指定类型，而类型推断是TypeScript根据赋值语句右侧的值自动推断变量的类型。例如：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 类型声明</span>
<span class="token keyword">let</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">// 类型推断</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// TypeScript会自动推断y的类型为number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4-接口的作用以及使用场景-和类型别名的区别"><a href="#_4-接口的作用以及使用场景-和类型别名的区别" class="header-anchor">#</a> 4.接口的作用以及使用场景，和类型别名的区别</h2> <h3 id="一、接口-interface-的作用​"><a href="#一、接口-interface-的作用​" class="header-anchor">#</a> 一、接口（Interface）的作用​</h3> <p>接口主要用于​定义对象的形状（Shape）​​，即描述对象应该有哪些属性和方法。它的核心作用是：
​</p> <ul><li>​约定数据结构​​：强制对象必须符合某种结构。</li> <li>实现继承（extends）​​：通过继承扩展其他接口。</li> <li>​​类实现（implements）​​：类可以通过 implements 关键字实现接口的约束。</li></ul> <ol><li>​​定义对象类型</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 必须符合接口结构</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>​​函数类型</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">SearchFunc</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> keyword<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> search<span class="token operator">:</span> <span class="token function-variable function">SearchFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span>src<span class="token punctuation">,</span> kw<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> src<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>kw<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>​​可索引类型​​（如数组、字典）</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">StringArray</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> arr<span class="token operator">:</span> StringArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>类的实现约束</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">sound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Woof!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="二、类型别名-type-alias-的作用​"><a href="#二、类型别名-type-alias-的作用​" class="header-anchor">#</a> 二、类型别名（Type Alias）的作用​</h3> <p>类型别名通过 type 关键字为任意类型（包括原始类型、联合类型、交叉类型等）命名，作用类似于“快捷方式”。</p> <ol><li>​​联合类型（Union）</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ID</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> id1<span class="token operator">:</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> id2<span class="token operator">:</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>​​交叉类型（Intersection）</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Named</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Aged</span> <span class="token operator">=</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> Named <span class="token operator">&amp;</span> Aged<span class="token punctuation">;</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>复杂类型映射</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">PartialUser</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 所有属性变为可选</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>元组类型</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Point</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p<span class="token operator">:</span> Point <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>类型推导与工具类型</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">UserKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> User<span class="token punctuation">;</span> <span class="token comment">// &quot;name&quot; | &quot;age&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_5-泛型-generics"><a href="#_5-泛型-generics" class="header-anchor">#</a> 5.泛型（Generics）</h2> <h3 id="一-什么是泛型-​​"><a href="#一-什么是泛型-​​" class="header-anchor">#</a> 一. 什么是泛型？​​</h3> <p>泛型类似于 ​​“类型占位符”​​，它允许我们在定义函数、类或接口时 ​​不预先指定具体类型​​，而是在使用时动态传入类型。这样可以：</p> <ul><li>​提高代码复用性​​：同一套逻辑可以适用于多种类型。</li> <li>​增强类型安全​​：避免 any 带来的类型丢失问题。</li> <li>​提供更好的类型推断​​：TS 能自动推断泛型类型。</li></ul> <p>假设我们要写一个函数，返回传入的参数：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">identity</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用 any 虽然能接受任何类型，但 ​​丢失了类型信息​​（返回值类型无法确定）。
泛型可以解决这个问题：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span> <span class="token comment">// 返回值的类型与输入类型一致</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result 的类型是 string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="二、如何创建泛型函数-​"><a href="#二、如何创建泛型函数-​" class="header-anchor">#</a> 二、如何创建泛型函数？​</h3> <p>​<strong>基本类型参数​</strong></p> <p>泛型函数在函数名后用 <code>&lt;T&gt;</code> 声明类型参数，T 可以是任意字母（如 K, V 等）。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// str: string</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token generic-function"><span class="token function">echo</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// num: number</span>

<span class="token comment">// TS 可以自动推断类型，通常可以省略显式声明：</span>
<span class="token keyword">const</span> inferredStr <span class="token operator">=</span> <span class="token function">echo</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 自动推断为 string</span>
<span class="token keyword">const</span> inferredNum <span class="token operator">=</span> <span class="token function">echo</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 自动推断为 number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>​<strong>多类型参数​</strong></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">pair</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token generic-function"><span class="token function">pair</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [string, number]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>泛型约束（Generic Constraints）​</strong></p> <p>如果需要对泛型类型进行限制，可以用 extends：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">HasLength</span> <span class="token punctuation">{</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">logLength</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> HasLength<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">logLength</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK，string 有 length</span>
<span class="token function">logLength</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK，数组有 length</span>
<span class="token function">logLength</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：number 没有 length</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="三、泛型的实际用途​"><a href="#三、泛型的实际用途​" class="header-anchor">#</a> 三、泛型的实际用途​</h3> <h4 id="​-1-通用数据结构和算法​"><a href="#​-1-通用数据结构和算法​" class="header-anchor">#</a> ​(1) 通用数据结构和算法​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 数组操作​​（如 map, filter）</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">mapArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> strings <span class="token operator">=</span> <span class="token function">mapArray</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string[]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="​-2-动态指定-api-返回的数据类型"><a href="#​-2-动态指定-api-返回的数据类型" class="header-anchor">#</a> ​(2) 动态指定 API 返回的数据类型</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ApiResponse<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
  status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ApiResponse<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="​-3-react-组件-props​"><a href="#​-3-react-组件-props​" class="header-anchor">#</a> ​(3) React 组件 Props​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ListProps<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  items<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function-variable function">renderItem</span><span class="token operator">:</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">List</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> items<span class="token punctuation">,</span> renderItem <span class="token punctuation">}</span><span class="token operator">:</span> ListProps<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>renderItem<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token operator">&lt;</span>List<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> 
  items<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">}</span> 
  renderItem<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>n<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span> 
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_6-枚举-enum"><a href="#_6-枚举-enum" class="header-anchor">#</a> 6.枚举（Enum）</h2> <h3 id="一、枚举是什么"><a href="#一、枚举是什么" class="header-anchor">#</a> 一、枚举是什么？</h3> <p>枚举允许开发者定义一组相关的常量，并为它们赋予有意义的名称。例如：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
  Up <span class="token operator">=</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
  Down <span class="token operator">=</span> <span class="token string">&quot;DOWN&quot;</span><span class="token punctuation">,</span>
  Left <span class="token operator">=</span> <span class="token string">&quot;LEFT&quot;</span><span class="token punctuation">,</span>
  Right <span class="token operator">=</span> <span class="token string">&quot;RIGHT&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="二、枚举的应用案例"><a href="#二、枚举的应用案例" class="header-anchor">#</a> 二、枚举的应用案例</h3> <h4 id="​-1-状态管理​"><a href="#​-1-状态管理​" class="header-anchor">#</a> ​(1) 状态管理​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> OrderStatus <span class="token punctuation">{</span>
  Pending <span class="token operator">=</span> <span class="token string">&quot;PENDING&quot;</span><span class="token punctuation">,</span>
  Shipped <span class="token operator">=</span> <span class="token string">&quot;SHIPPED&quot;</span><span class="token punctuation">,</span>
  Delivered <span class="token operator">=</span> <span class="token string">&quot;DELIVERED&quot;</span><span class="token punctuation">,</span>
  Cancelled <span class="token operator">=</span> <span class="token string">&quot;CANCELLED&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">updateOrder</span><span class="token punctuation">(</span>status<span class="token operator">:</span> OrderStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Order status: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">updateOrder</span><span class="token punctuation">(</span>OrderStatus<span class="token punctuation">.</span>Shipped<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Order status: SHIPPED&quot; </span>
<span class="token function">updateOrder</span><span class="token punctuation">(</span><span class="token string">&quot;PENDING&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：必须使用枚举</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-http-状态码​"><a href="#_2-http-状态码​" class="header-anchor">#</a> (2) HTTP 状态码​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> HttpStatus <span class="token punctuation">{</span>
  <span class="token constant">OK</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  BadRequest <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span>
  Unauthorized <span class="token operator">=</span> <span class="token number">401</span><span class="token punctuation">,</span>
  NotFound <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">handleResponse</span><span class="token punctuation">(</span>code<span class="token operator">:</span> HttpStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>code <span class="token operator">===</span> HttpStatus<span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Success!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="三、枚举的类型​"><a href="#三、枚举的类型​" class="header-anchor">#</a> 三、枚举的类型​</h3> <p>TypeScript 支持 ​​数字枚举​​、​​字符串枚举​​ 和 ​​异构枚举​​（混合 string 和 number）。</p> <h4 id="_1-数字枚举-默认-​"><a href="#_1-数字枚举-默认-​" class="header-anchor">#</a> (1) 数字枚举（默认）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> StatusCode <span class="token punctuation">{</span>
  Success<span class="token punctuation">,</span> <span class="token comment">// 0（默认从 0 开始）</span>
  NotFound <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token comment">// 可以手动赋值</span>
  ServerError<span class="token punctuation">,</span> <span class="token comment">// 405（自动递增）</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>StatusCode<span class="token punctuation">.</span>Success<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>StatusCode<span class="token punctuation">[</span><span class="token number">404</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;NotFound&quot;（反向映射）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_2-字符串枚举"><a href="#_2-字符串枚举" class="header-anchor">#</a> (2) 字符串枚举</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> LogLevel <span class="token punctuation">{</span>
  Error <span class="token operator">=</span> <span class="token string">&quot;ERROR&quot;</span><span class="token punctuation">,</span>
  Warn <span class="token operator">=</span> <span class="token string">&quot;WARN&quot;</span><span class="token punctuation">,</span>
  Info <span class="token operator">=</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>LogLevel<span class="token punctuation">.</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ERROR&quot;</span>
<span class="token comment">// LogLevel[&quot;ERROR&quot;] 不能反向查找（字符串枚举不支持）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-异构枚举-混合-string-和-number-​"><a href="#_3-异构枚举-混合-string-和-number-​" class="header-anchor">#</a> (3) 异构枚举（混合 string 和 number）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> MixedEnum <span class="token punctuation">{</span>
  Yes <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  No <span class="token operator">=</span> <span class="token string">&quot;NO&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MixedEnum<span class="token punctuation">.</span>Yes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MixedEnum<span class="token punctuation">.</span>No<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;NO&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="四、常量枚举-const-enum"><a href="#四、常量枚举-const-enum" class="header-anchor">#</a> 四、常量枚举（const enum）</h3> <p>常量枚举是一种优化手段，它会在编译时 ​​内联枚举值​​，减少运行时开销。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> LogLevel <span class="token punctuation">{</span>
  Error <span class="token operator">=</span> <span class="token string">&quot;ERROR&quot;</span><span class="token punctuation">,</span>
  Warn <span class="token operator">=</span> <span class="token string">&quot;WARN&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译后：</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ERROR&quot;</span> <span class="token comment">/* LogLevel.Error */</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接替换为 &quot;ERROR&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_7-处理可空类型-nullable-types"><a href="#_7-处理可空类型-nullable-types" class="header-anchor">#</a> 7.处理可空类型（Nullable Types）</h2> <p>在TypeScript中，可空类型是指一个变量可以存储特定类型的值，也可以存储null或undefined。</p> <p>为了声明一个可空类型，可以使用联合类型（Union Types）</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> numberOrNull<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> 
numberOrNull <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 可以赋值为null </span>
    
<span class="token keyword">let</span> stringOrUndefined<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> 
stringOrUndefined <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// 可以赋值为undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_8-什么是联合类型和交叉类型"><a href="#_8-什么是联合类型和交叉类型" class="header-anchor">#</a> 8.什么是联合类型和交叉类型</h2> <p>联合类型表示一个值可以是多种类型中的一种<br>
而交叉类型表示一个新类型，它包含了多个类型的特性。</p> <h4 id="联合类型示例"><a href="#联合类型示例" class="header-anchor">#</a> 联合类型示例：</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// typescript</span>
<span class="token keyword">let</span> myVar<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
myVar <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 合法</span>
myVar <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 合法</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="交叉类型示例"><a href="#交叉类型示例" class="header-anchor">#</a> 交叉类型示例：</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
  <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
  <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span><span class="token punctuation">;</span> <span class="token comment">// 表示同时具备 A 和 B 的特性</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_9-命名空间-namespace-和模块-module"><a href="#_9-命名空间-namespace-和模块-module" class="header-anchor">#</a> 9.命名空间（Namespace）和模块（Module）</h2> <h3 id="一-命名空间-namespace-​"><a href="#一-命名空间-namespace-​" class="header-anchor">#</a> 一. 命名空间（Namespace）​</h3> <p>命名空间是 ​​TypeScript 特有的​​ 代码分组机制，用于在全局作用域内划分逻辑单元，避免命名冲突。</p> <ul><li><p>特点​​</p> <ul><li>​作用域隔离​​：内部变量/类/函数默认仅在命名空间内可见。</li> <li>​全局扩展​​：可通过 declare global 或合并声明扩展全局类型。</li> <li>​依赖手动加载​​：需通过 <code>&lt;script&gt;</code> 标签或打包工具合并文件。</li></ul></li> <li><p>使用场景​​</p> <ul><li>旧版代码迁移（兼容全局变量模式）。</li> <li>为第三方库提供类型声明（如 jQuery 的 $.ajax）。</li> <li>小型项目快速组织代码（不推荐大型项目）。</li></ul></li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 定义命名空间</span>
<span class="token keyword">namespace</span> MyMath <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MyMath<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="多文件命名空间"><a href="#多文件命名空间" class="header-anchor">#</a> 多文件命名空间</h4> <p>通过 /// <code>&lt;reference path=&quot;...&quot; /&gt;</code> 手动合并文件：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// file1.ts</span>
<span class="token keyword">namespace</span> MyMath <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// file2.ts</span>
<span class="token comment">/// &lt;reference path=&quot;file1.ts&quot; /&gt;</span>
<span class="token keyword">namespace</span> MyMath <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">circleArea</span><span class="token punctuation">(</span>radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">PI</span> <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span> <span class="token comment">// 访问其他文件的成员</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="二-模块-module"><a href="#二-模块-module" class="header-anchor">#</a> 二. 模块（Module）</h3> <p>模块是 ​​ES6 标准​​ 的代码封装方式，每个文件是一个独立模块，通过 import/export 管理依赖。</p> <ul><li>特点​​
<ul><li>文件即模块​​：每个 .ts 文件默认是模块，顶层作用域变量不污染全局。</li> <li>显式依赖​​：必须通过 import 引入其他模块。</li> <li>现代项目标配​​：与 Webpack/Rollup 等打包工具深度集成。</li></ul></li> <li>​使用场景​​
<ul><li>大型项目或前端框架（React/Vue）。</li> <li>需要 Tree Shaking 优化代码体积。</li> <li>团队协作时代码解耦。</li></ul></li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// math.ts（模块文件）</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// app.ts（使用模块）</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./math'</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="模块类型​"><a href="#模块类型​" class="header-anchor">#</a> 模块类型​</h4> <p><strong>ES Modules（推荐）​​</strong></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> func <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./module'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>​​CommonJS（Node.js）​​：</strong></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> myFunc <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_10-类型断言-type-assertion"><a href="#_10-类型断言-type-assertion" class="header-anchor">#</a> 10.类型断言（Type Assertion）</h2> <p>类型断言（Type Assertion）是 TypeScript 中一种 ​​显式告诉编译器变量类型​​ 的机制，它允许开发者覆盖 TypeScript 的默认类型推断</p> <p>类型断言类似于其他语言中的 ​​类型转换​​，但 ​​不进行运行时检查​​，仅影响编译阶段的类型推断。</p> <ul><li>它有两种语法形式：
<ul><li>​​尖括号语法​​（<code>&lt;Type&gt;value</code>）</li> <li>​as 语法​​（value as Type，推荐在 JSX 中使用）</li></ul></li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 场景：从 API 获取的数据，开发者知道是 `User` 类型，但 TS 推断为 `any`</span>
<span class="token keyword">const</span> userData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 类型断言明确告诉编译器这是 `User` 类型</span>
<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 语法1：尖括号（不适用于 JSX）</span>
<span class="token keyword">const</span> user1 <span class="token operator">=</span> <span class="token operator">&lt;</span>User<span class="token operator">&gt;</span>userData<span class="token punctuation">;</span>
<span class="token comment">// 语法2：as（推荐，兼容 JSX）</span>
<span class="token keyword">const</span> user2 <span class="token operator">=</span> userData <span class="token keyword">as</span> User<span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Alice&quot;（类型安全访问）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="类型断言-vs-类型声明​"><a href="#类型断言-vs-类型声明​" class="header-anchor">#</a> 类型断言 vs 类型声明​</h4> <table><thead><tr><th>特性</th> <th>​​类型断言（Type Assertion）​</th> <th>​​类型声明（Type Annotation）​​</th></tr></thead> <tbody><tr><td>​​作用时机​</td> <td>覆盖编译器的类型推断</td> <td>声明变量时指定类型</td></tr> <tr><td>​​运行时影响​</td> <td>无（纯编译时行为）</td> <td>无</td></tr> <tr><td>适用场景​</td> <td>开发者比编译器更了解类型时</td> <td>变量初始化时明确类型</td></tr></tbody></table> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 类型声明（初始化时明确类型）</span>
<span class="token keyword">let</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
<span class="token comment">// 类型断言（覆盖推断）</span>
<span class="token keyword">let</span> unknownData<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> strLength <span class="token operator">=</span> <span class="token punctuation">(</span>unknownData <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="使用场景​"><a href="#使用场景​" class="header-anchor">#</a> 使用场景​</h3> <h4 id="_1-处理-any-或-unknown-类型​"><a href="#_1-处理-any-或-unknown-类型​" class="header-anchor">#</a> (1) 处理 any 或 unknown 类型​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> data<span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;name&quot;: &quot;Bob&quot;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userName <span class="token operator">=</span> <span class="token punctuation">(</span>data <span class="token keyword">as</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// 安全访问</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-访问联合类型的特定成员"><a href="#_2-访问联合类型的特定成员" class="header-anchor">#</a> (2) 访问联合类型的特定成员</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">formatInput</span><span class="token punctuation">(</span>input<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 明确告诉编译器此时是 string</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>input <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>trim<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>input <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> input<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-强制转换-dom-元素类型​"><a href="#_3-强制转换-dom-元素类型​" class="header-anchor">#</a> (3) 强制转换 DOM 元素类型​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;submit&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLButtonElement<span class="token punctuation">;</span>
button<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 明确知道是按钮元素</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="​-4-非空断言-后缀-​"><a href="#​-4-非空断言-后缀-​" class="header-anchor">#</a> ​(4) 非空断言（! 后缀）​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 告诉编译器变量一定不是 null/undefined</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 谨慎使用！</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="注意事项​"><a href="#注意事项​" class="header-anchor">#</a> 注意事项​</h3> <ol><li>避免滥用​</li></ol> <p>类型断言会绕过 TypeScript 的类型检查，滥用可能导致运行时错误。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 错误示范​​：</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span> <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 编译通过，但运行时是字符串！</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 运行时报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_11-typescript中的可选参数和默认参数"><a href="#_11-typescript中的可选参数和默认参数" class="header-anchor">#</a> 11.TypeScript中的可选参数和默认参数</h2> <ul><li>可选参数允许函数中的某些参数不传值，在参数后面加上问号?表示可选。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> greeting<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>greeting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>greeting<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>默认参数允许在声明函数时为参数指定默认值，这样如果调用时未提供参数值，则会使用默认值。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> greeting<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>greeting<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_12-索引类型-index-types"><a href="#_12-索引类型-index-types" class="header-anchor">#</a> 12.索引类型（Index Types）</h2> <p>索引类型（Index Types）是 TypeScript 中一种 ​​动态访问和操作对象属性类型​​ 的高级特性，它通过 <strong>​​键名映射</strong>​​ 和 ​<strong>​类型运算</strong>​​ 实现灵活的类型安全操作。</p> <p>索引类型允许开发者通过 ​<strong>​字符串或数字字面量类型</strong>​​ 动态访问对象属性的类型，核心依赖两个操作符：</p> <ul><li>keyof T​​：获取类型 T 的所有​​可访问键名​​的联合类型。</li> <li><code>​T[K]</code>​​：通过键名 K 获取类型 T 中对应属性的类型。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 获取 User 所有键名的联合类型</span>
<span class="token keyword">type</span> <span class="token class-name">UserKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> User<span class="token punctuation">;</span> <span class="token comment">// &quot;name&quot; | &quot;age&quot; | &quot;address&quot;</span>
<span class="token comment">// 动态获取属性类型</span>
<span class="token keyword">type</span> <span class="token class-name">NameType</span> <span class="token operator">=</span> User<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name">AgeType</span> <span class="token operator">=</span> User<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="核心优势​"><a href="#核心优势​" class="header-anchor">#</a> 核心优势​</h3> <h4 id="​-1-类型安全的动态属性访问​"><a href="#​-1-类型安全的动态属性访问​" class="header-anchor">#</a> ​(1) 类型安全的动态属性访问​</h4> <p>避免硬编码属性名，通过泛型约束确保代码类型安全。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getProperty</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 返回值类型动态推断为 T[K]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">&quot;123 Main St&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string（类型正确）</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// number（类型正确）</span>
<span class="token keyword">const</span> invalid <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：&quot;email&quot; 不是 User 的键</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2-映射类型-mapped-types-的基础​"><a href="#_2-映射类型-mapped-types-的基础​" class="header-anchor">#</a> (2) 映射类型（Mapped Types）的基础​</h4> <p>索引类型是生成映射类型（如 Partial<code>&lt;T&gt;</code>、Readonly<code>&lt;T&gt;</code>）的核心。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 内置的 Partial&lt;T&gt; 实现原理</span>
<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将所有属性变为可选</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">PartialUser</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">// 等价于 { name?: string; age?: number; address?: string; }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-约束对象键名的合法性​"><a href="#_3-约束对象键名的合法性​" class="header-anchor">#</a> (3) 约束对象键名的合法性​</h4> <p>在泛型中限制函数参数必须为对象的有效键名。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">setProperty</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// 键和值类型严格匹配</span>
<span class="token punctuation">}</span>
<span class="token function">setProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 正确</span>
<span class="token function">setProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 报错：类型不匹配</span>
<span class="token function">setProperty</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：无效键名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="实际应用场景​"><a href="#实际应用场景​" class="header-anchor">#</a> 实际应用场景​</h3> <h4 id="_1-类型安全的字典对象​"><a href="#_1-类型安全的字典对象​" class="header-anchor">#</a> (1) 类型安全的字典对象​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">Dictionary<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span> <span class="token comment">// 任意字符串键，值类型为 T</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> users<span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  alice<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  bob<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_13-const-和-readonly-对比"><a href="#_13-const-和-readonly-对比" class="header-anchor">#</a> 13.const 和 readonly 对比</h2> <p><code>const</code> 和 <code>readonly</code> 都是用于增强代码不可变性的机制，但它们在作用范围、适用场景和约束级别上有显著区别</p> <table><thead><tr><th>特性</th> <th>const</th> <th>readonly</th></tr></thead> <tbody><tr><td>作用目标​</td> <td>变量绑定（Variable Binding）</td> <td>属性（Property）或索引签名</td></tr> <tr><td>​​约束级别​​</td> <td>禁止重新赋值</td> <td>禁止属性修改</td></tr> <tr><td>​​适用场景​</td> <td>基础类型、对象引用</td> <td>对象属性、数组、类成员、接口</td></tr> <tr><td>可变性绕过​</td> <td>不能绕过（严格约束）</td> <td>可通过类型断言/拷贝绕过</td></tr> <tr><td>​运行时保护​</td> <td>无（纯编译时）</td> <td>无（纯编译时），需配合 Object.freeze</td></tr> <tr><td>典型用途​</td> <td>声明常量</td> <td>定义不可变的对象结构</td></tr></tbody></table> <h3 id="具体场景对比​"><a href="#具体场景对比​" class="header-anchor">#</a> 具体场景对比​</h3> <h4 id="_1-基础类型​"><a href="#_1-基础类型​" class="header-anchor">#</a> (1) 基础类型​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// const：变量不可重新赋值</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14159</span><span class="token punctuation">;</span> <span class="token comment">// 报错：Cannot assign to 'PI'</span>
<span class="token comment">// readonly：不适用于基础类型（仅用于属性）</span>
<span class="token keyword">let</span> readonlyNum<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 无意义，通常不这样用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="​-2-对象"><a href="#​-2-对象" class="header-anchor">#</a> ​(2) 对象</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// const：对象引用不可变，但属性可修改</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 允许修改属性</span>
user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Charlie&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 报错：不能重新赋值</span>
<span class="token comment">// readonly：属性不可修改</span>
<span class="token keyword">interface</span> <span class="token class-name">ReadonlyUser</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user<span class="token operator">:</span> ReadonlyUser <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 报错：Cannot assign to 'name'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="​-3-数组​"><a href="#​-3-数组​" class="header-anchor">#</a> ​(3) 数组​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// const：数组引用不可变，元素可修改</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 允许修改元素</span>
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 报错：不能重新赋值</span>

<span class="token comment">// readonly：元素不可修改</span>
<span class="token keyword">const</span> readonlyArr<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
readonlyArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 报错：Index signature in type 'readonly number[]' only permits reading</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="​-4-类与接口​"><a href="#​-4-类与接口​" class="header-anchor">#</a> ​(4) 类与接口​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 实例化后不可修改</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 报错：Cannot assign to 'id'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="如何选择-​​"><a href="#如何选择-​​" class="header-anchor">#</a> 如何选择？​​</h3> <ul><li>​​优先用 const 的场景​​
<ul><li>声明基础类型的常量（如 const MAX_SIZE = 100）。</li> <li>确保对象/数组的引用不变（防止重新赋值）。</li></ul></li> <li>优先用 readonly 的场景​​
<ul><li>定义接口或类的不可变属性（如 readonly id: string）。</li> <li>限制函数参数不被修改（如 function log(config: Readonly<code>&lt;Config&gt;</code>)）。</li> <li>配合 Readonly<code>&lt;T&gt;</code> 工具类型快速生成不可变对象。</li></ul></li></ul> <h3 id="总结​​"><a href="#总结​​" class="header-anchor">#</a> 总结​​</h3> <ul><li>​const​​：保护变量引用不被重新赋值，适用于所有数据类型。</li> <li>​​readonly​​：保护对象属性不被修改，适用于接口、类和数组。</li> <li>​联合使用​​：const + Readonly<code>&lt;T&gt;</code> 可实现完全不可变结构。</li></ul> <h2 id="_14-any-类型的作用与滥用后果"><a href="#_14-any-类型的作用与滥用后果" class="header-anchor">#</a> 14.any 类型的作用与滥用后果</h2> <h3 id="一、any-的核心作用​"><a href="#一、any-的核心作用​" class="header-anchor">#</a> 一、any 的核心作用​</h3> <h4 id="​-1-动态类型兼容​"><a href="#​-1-动态类型兼容​" class="header-anchor">#</a> ​(1) 动态类型兼容​</h4> <p>允许变量接受​​任意类型​​的值，相当于关闭类型检查：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> dynamicData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
dynamicData <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>      <span class="token comment">// 允许从 string 切换到 number</span>
dynamicData <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 允许赋值为对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="​-2-渐进式迁移-javascript-代码​"><a href="#​-2-渐进式迁移-javascript-代码​" class="header-anchor">#</a> ​(2) 渐进式迁移 JavaScript 代码​</h4> <p>在将 JS 项目迁移到 TS 时，any 可作为临时过渡手段</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 旧 JS 代码迁移示例</span>
<span class="token keyword">function</span> <span class="token function">legacyParse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 隐式 any</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 初步迁移为 TS（暂时用 any）</span>
<span class="token keyword">function</span> <span class="token function">tsParse</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_3-与无类型库交互​"><a href="#_3-与无类型库交互​" class="header-anchor">#</a> (3) 与无类型库交互​</h4> <p>处理第三方 JS 库或动态 API 响应时</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> thirdPartyLib<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'untyped-lib'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> thirdPartyLib<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不触发类型报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="二、滥用-any-的后果​"><a href="#二、滥用-any-的后果​" class="header-anchor">#</a> 二、滥用 any 的后果​</h3> <h4 id="​-1-类型安全彻底失效​"><a href="#​-1-类型安全彻底失效​" class="header-anchor">#</a> ​(1) 类型安全彻底失效​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">calculateTotal</span><span class="token punctuation">(</span>price<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> price <span class="token operator">*</span> quantity<span class="token punctuation">;</span> <span class="token comment">// 如果传入字符串，返回 NaN（无编译时报错）</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>后果​​：运行时错误（如 undefined is not a function）无法在编译时捕获。</li></ul> <h4 id="_2-阻碍类型系统优化​"><a href="#_2-阻碍类型系统优化​" class="header-anchor">#</a> (2) 阻碍类型系统优化​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> unsafe<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> unsafe<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 不报错，但 unsafe 可能是 number</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译通过，运行时可能崩溃</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="三-替代方案-避免滥用-any-​"><a href="#三-替代方案-避免滥用-any-​" class="header-anchor">#</a> 三. 替代方案（避免滥用 any）​</h3> <h4 id="_1-使用更精确的顶层类型​"><a href="#_1-使用更精确的顶层类型​" class="header-anchor">#</a> (1) 使用更精确的顶层类型​</h4> <table><thead><tr><th>场景</th> <th>替代方案</th> <th>优点</th></tr></thead> <tbody><tr><td>未知对象结构</td> <td>unknown</td> <td>必须类型检查后才能操作</td></tr> <tr><td>部分属性可选</td> <td><code>Partial&lt;T&gt;</code></td> <td>明确哪些属性可能缺失</td></tr> <tr><td>动态键值对象</td> <td><code>Record&lt;string, T&gt;</code></td> <td>约束值的类型</td></tr></tbody></table> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 用 unknown 替代 any（安全操作需类型收窄）</span>
<span class="token keyword">function</span> <span class="token function">safeParse</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">unknown</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">safeParse</span><span class="token punctuation">(</span><span class="token string">'{&quot;id&quot;:1}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'id'</span> <span class="token keyword">in</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类型安全访问</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2-类型断言-as-替代部分-any​"><a href="#_2-类型断言-as-替代部分-any​" class="header-anchor">#</a> (2) 类型断言（as）替代部分 any​</h4> <p>当开发者比编译器更了解类型时：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span> <span class="token comment">// 非 any</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="​-3-泛型保持灵活性​"><a href="#​-3-泛型保持灵活性​" class="header-anchor">#</a> ​(3) 泛型保持灵活性​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span> <span class="token comment">// 不丢失类型信息</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="​-4-逐步替换遗留-any​"><a href="#​-4-逐步替换遗留-any​" class="header-anchor">#</a> ​(4) 逐步替换遗留 any​</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// @ts-expect-error - TODO: 迁移后替换为具体类型</span>
<span class="token keyword">const</span> legacyData<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="四、何时可以合理使用-any-​"><a href="#四、何时可以合理使用-any-​" class="header-anchor">#</a> 四、何时可以合理使用 any？​</h3> <ul><li>(1) 临时快速原型开发​​
<ul><li>短期验证逻辑时使用，完成后立即替换为具体类型。</li></ul></li> <li>​(2) 类型体操过于复杂时​​
<ul><li>当类型系统无法简洁表达复杂逻辑时（如递归类型深度过大）。</li></ul></li> <li>(3) 类型声明文件（.d.ts）中​​
<ul><li>为无类型 JS 库编写声明时，暂时用 any 占位：</li></ul></li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;untyped-module&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> config<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> <span class="token comment">// 后续逐步补充具体类型</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_15-ts-中-this-的注意事项"><a href="#_15-ts-中-this-的注意事项" class="header-anchor">#</a> 15.TS 中 this 的注意事项</h2> <h3 id="一、默认情况下-this-的类型问题​"><a href="#一、默认情况下-this-的类型问题​" class="header-anchor">#</a> 一、默认情况下 this 的类型问题​</h3> <p>在非严格模式下，未指定类型的 this 会被推断为 any，失去类型安全：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 隐式 any</span>
<span class="token keyword">function</span> <span class="token function">logThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this 是 any，无类型检查</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="解决方案-启用-noimplicitthis"><a href="#解决方案-启用-noimplicitthis" class="header-anchor">#</a> 解决方案：启用 --noImplicitThis</h4> <p>在 tsconfig.json 中启用该选项，强制显式声明 this 类型：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="二、函数中的-this-类型​"><a href="#二、函数中的-this-类型​" class="header-anchor">#</a> 二、函数中的 this 类型​</h3> <h4 id="_1-普通函数​​"><a href="#_1-普通函数​​" class="header-anchor">#</a> (1) 普通函数​​</h4> <p>需手动指定 this 类型（通过第一个参数）：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Alice&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">greet</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错：this 未绑定</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-箭头函数​​"><a href="#_2-箭头函数​​" class="header-anchor">#</a> (2) 箭头函数​​</h4> <p>箭头函数继承外层 this，​​<strong>无法通过参数声明类型</strong>​​，需通过变量类型推断：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Timer</span> <span class="token punctuation">{</span>
  seconds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>seconds<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this 正确指向 Timer 实例</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="三、类中的-this"><a href="#三、类中的-this" class="header-anchor">#</a> 三、类中的 this</h3> <h4 id="​-1-类方法中的-this"><a href="#​-1-类方法中的-this" class="header-anchor">#</a> ​(1) 类方法中的 this</h4> <p>默认指向当前类实例，类型自动推断</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token punctuation">{</span>
  count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// this: Counter</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-回调函数中的-this-丢失​"><a href="#_2-回调函数中的-this-丢失​" class="header-anchor">#</a> (2) 回调函数中的 this 丢失​</h4> <p>将类方法作为回调传递时，this 可能丢失</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
  text <span class="token operator">=</span> <span class="token string">&quot;Click me&quot;</span><span class="token punctuation">;</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 运行时可能报错</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> button<span class="token punctuation">.</span>handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this 指向 DOM 元素</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>修复方法​</strong></p> <ol><li>​​使用箭头函数​​</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this 永远指向实例</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>​​显式绑定 this​​</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> button<span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_16-协变、逆变、双变和抗变"><a href="#_16-协变、逆变、双变和抗变" class="header-anchor">#</a> 16.协变、逆变、双变和抗变</h2> <p>​​协变（Covariance）​​、​​逆变（Contravariance）​​、​​双变（Bivariance）​​ 和 ​​抗变（Invariance）​​ 描述了复杂类型（如函数、泛型）的子类型关系如何传递</p> <h3 id="一-基本概念​"><a href="#一-基本概念​" class="header-anchor">#</a> 一. 基本概念​</h3> <h4 id="​-1-子类型-subtyping-​​"><a href="#​-1-子类型-subtyping-​​" class="header-anchor">#</a> ​(1) 子类型（Subtyping）​​</h4> <p>若类型 A 是类型 B 的子类型（记作 A &lt;: B），则 A 的值可以安全赋值给 B 的变量。
例如：Cat &lt;: Animal（猫是动物的子类型）。</p> <h4 id="​​-2-变型-variance-​​"><a href="#​​-2-变型-variance-​​" class="header-anchor">#</a> ​​(2) 变型（Variance）​​</h4> <p>描述​​容器类型​​（如 Array<code>&lt;T&gt;</code>、函数参数）的子类型关系如何随内部类型 T 变化。</p> <h3 id="二-四种变型"><a href="#二-四种变型" class="header-anchor">#</a> 二. 四种变型</h3> <h4 id="_1-协变-covariance-​​"><a href="#_1-协变-covariance-​​" class="header-anchor">#</a> (1) 协变（Covariance）​​</h4> <ul><li>​​定义​​：如果 A &lt;: B，则 Container<code>&lt;A&gt;</code>&lt;: Container<code>&lt;B&gt;</code>。</li> <li>​​特点​​：子类型关系与内部类型​​方向一致​​。</li> <li>​示例​​：TypeScript 的​​数组​​和​​返回值类型​​是协变的：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span> <span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span>

<span class="token keyword">let</span> animals<span class="token operator">:</span> Animal<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> cats<span class="token operator">:</span> Cat<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Whiskers&quot;</span><span class="token punctuation">,</span> <span class="token function-variable function">meow</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
animals <span class="token operator">=</span> cats<span class="token punctuation">;</span> <span class="token comment">// 协变：Cat[] &lt;: Animal[]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-逆变-contravariance-​"><a href="#_2-逆变-contravariance-​" class="header-anchor">#</a> (2) 逆变（Contravariance）​</h4> <ul><li>​定义​​：如果 A &lt;: B，则 Container<code>&lt;B&gt;</code> &lt;: Container<code>&lt;A&gt;</code>。</li> <li>​特点​​：子类型关系与内部类型​​方向相反​​。</li> <li>​示例​​：TypeScript 的​​函数参数类型​​是逆变的（默认情况下）：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">AnimalHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>animal<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">CatHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>cat<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> handleAnimal<span class="token operator">:</span> <span class="token function-variable function">AnimalHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> handleCat<span class="token operator">:</span> <span class="token function-variable function">CatHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span>c<span class="token operator">:</span> Cat<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 逆变：AnimalHandler &lt;: CatHandler</span>
handleCat <span class="token operator">=</span> handleAnimal<span class="token punctuation">;</span> <span class="token comment">// 允许</span>
handleAnimal <span class="token operator">=</span> handleCat<span class="token punctuation">;</span> <span class="token comment">// 报错（除非启用 strictFunctionTypes: false）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_3-双变-bivariance-​"><a href="#_3-双变-bivariance-​" class="header-anchor">#</a> (3) 双变（Bivariance）​</h4> <ul><li>​定义​​：Container<code>&lt;A&gt;</code> 和 Container<code>&lt;B&gt;</code>互相兼容，无论 A 和 B 的关系。</li> <li>​特点​​：​​最宽松但最不安全​​，TypeScript 中函数参数的默认行为（非严格模式）。</li> <li>​​示例​​：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 非严格模式下（tsconfig.json 中 strictFunctionTypes: false）</span>
handleAnimal <span class="token operator">=</span> handleCat<span class="token punctuation">;</span> <span class="token comment">// 允许</span>
handleCat <span class="token operator">=</span> handleAnimal<span class="token punctuation">;</span> <span class="token comment">// 允许</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_4-抗变-invariance-​"><a href="#_4-抗变-invariance-​" class="header-anchor">#</a> (4) 抗变（Invariance）​</h4> <ul><li>定义​​：Container<code>&lt;A&gt;</code> 和 Container<code>&lt;B&gt;</code> 仅当 A === B 时才兼容。</li> <li>​特点​​：​​最严格​​，TypeScript 中泛型默认行为（如 interface Box<code>&lt;T&gt;</code>{ value: T }）。</li> <li>​示例​​：</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Box<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> animalBox<span class="token operator">:</span> Box<span class="token operator">&lt;</span>Animal<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Milo&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> catBox<span class="token operator">:</span> Box<span class="token operator">&lt;</span>Cat<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Whiskers&quot;</span><span class="token punctuation">,</span> <span class="token function-variable function">meow</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

animalBox <span class="token operator">=</span> catBox<span class="token punctuation">;</span> <span class="token comment">// 报错（抗变）</span>
catBox <span class="token operator">=</span> animalBox<span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">5/29/2025, 3:55:49 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Front-end-go-on/pages/frontend/frame/base/Packaging.html" class="prev">
        打包工具
      </a></span> <span class="next"><a href="/Front-end-go-on/pages/frontend/frame/base/Nuxt.html">
        Nuxt基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Front-end-go-on/assets/js/app.4de2216f.js" defer></script><script src="/Front-end-go-on/assets/js/2.df6f2bda.js" defer></script><script src="/Front-end-go-on/assets/js/1.c1a4e5b8.js" defer></script><script src="/Front-end-go-on/assets/js/59.d6eb4901.js" defer></script>
  </body>
</html>
