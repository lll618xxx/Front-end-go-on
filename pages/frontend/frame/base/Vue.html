<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. Vue 介绍 | 首页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/Front-end-go-on/logo.png">
    <meta name="description" content="前端记录">
    
    <link rel="preload" href="/Front-end-go-on/assets/css/0.styles.2a02a9f8.css" as="style"><link rel="preload" href="/Front-end-go-on/assets/js/app.a3428af7.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/2.16ec2cb2.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/44.aef0a355.js" as="script"><link rel="prefetch" href="/Front-end-go-on/assets/js/10.98b69e09.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/11.17821fde.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/12.fe7aa7d5.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/13.d4e685ee.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/14.ed759495.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/15.43070e73.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/16.bc83f169.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/17.799134e6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/18.28f19028.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/19.19385162.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/20.a88ef50f.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/21.b1d0bf69.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/22.e449f577.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/23.4ec4b445.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/24.c3031019.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/25.cdc143f3.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/26.0def4c07.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/27.99b4876b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/28.f267dbb6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/29.e59d6acd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/3.bcb5e2b3.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/30.d582487d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/31.faae5663.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/32.30a05ccf.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/33.87cec609.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/34.be2c75ba.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/35.12bc55f0.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/36.6a5859a6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/37.b44c2630.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/38.3e7e4211.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/39.21f51083.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/4.bde657be.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/40.0b31fef5.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/41.4d199fb1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/42.dfb1990d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/43.86d460f6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/45.2969b843.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/46.33a6b75c.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/47.5dd9288b.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/48.901a6ab1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/49.a51a5e71.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/5.83a1a435.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/50.320e382f.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/51.64e516ff.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/52.06ff817d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/53.0c40e3f2.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/54.3c25513d.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/55.ac3e2de7.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/56.4e26338e.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/57.76fe88e0.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/58.45832b60.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/59.111a6615.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/6.d0899ea6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/60.77872abd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/61.a50b1848.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/62.f0fe6908.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/7.76f1d863.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/8.d678387a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/9.e13450ae.js">
    <link rel="stylesheet" href="/Front-end-go-on/assets/css/0.styles.2a02a9f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-go-on/" class="home-link router-link-active"><img src="/Front-end-go-on/logo.png" alt="首页" class="logo"> <span class="site-name can-hide">首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="sidebar-link">HTML基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Css.html" class="sidebar-link">CSS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Js.html" class="sidebar-link">JS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/ES6.html" class="sidebar-link">ES6基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Http.html" class="sidebar-link">HTTP基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Cache.html" class="sidebar-link">前端缓存</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Performance.html" class="sidebar-link">页面性能</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Algorithm.html" class="sidebar-link">数据结构基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/MyArticle.html" class="sidebar-link">我的文章</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html" aria-current="page" class="active sidebar-link">Vue2基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_1-vue-介绍" class="sidebar-link">1. Vue 介绍</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_2-vue-指令" class="sidebar-link">2. Vue 指令</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_3-父子组件间通信" class="sidebar-link">3.父子组件间通信</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_4-组件上总是必须用-key" class="sidebar-link">4.组件上总是必须用 key</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_5-proxy-与-object-defineproperty-对比" class="sidebar-link">5.Proxy 与 Object.defineProperty 对比</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_6-组件的-data-必须是一个函数" class="sidebar-link">6.组件的 data 必须是一个函数</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_7-keep-alive" class="sidebar-link">7.keep-alive</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_8-方法-methods-、计算属性-computed-、侦听属性-watch" class="sidebar-link">8.方法(methods)、计算属性(computed)、侦听属性(watch)</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_9-过滤器" class="sidebar-link">9.过滤器</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_10-vue-ref" class="sidebar-link">10.Vue ref</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_11-vue-hooks" class="sidebar-link">11.Vue hooks</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_12-vue-nexttick-的原理和用途" class="sidebar-link">12. Vue.nextTick 的原理和用途</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_13-vue单向数据流" class="sidebar-link">13. Vue单向数据流</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#_14-vue的性能优化" class="sidebar-link">14. Vue的性能优化</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html#其他" class="sidebar-link">其他</a></li></ul></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/Vue.html" class="sidebar-link">Vue2进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Vue3.html" class="sidebar-link">Vue3基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/React.html" class="sidebar-link">React基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/React.html" class="sidebar-link">React进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/React18.html" class="sidebar-link">React18新特性</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/VueVsReact.html" class="sidebar-link">Vue和React对比</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/RN.html" class="sidebar-link">RN基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/RNEnv.html" class="sidebar-link">RN环境搭建和打包</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Packaging.html" class="sidebar-link">打包工具</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Ts.html" class="sidebar-link">TS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Nuxt.html" class="sidebar-link">Nuxt基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/Applet.html" class="sidebar-link">小程序基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/MicroFrontend.html" class="sidebar-link">微前端基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/UniApp.html" class="sidebar-link">uni-app基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码练习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/exercise/Css.html" class="sidebar-link">CSS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Js.html" class="sidebar-link">JS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Algorithm.html" class="sidebar-link">算法代码练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/skill/Tools.html" class="sidebar-link">工具库</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Utils.html" class="sidebar-link">工具函数</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/CSSAnimation.html" class="sidebar-link">CSS动画库</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Css.html" class="sidebar-link">CSS代码技巧</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Js.html" class="sidebar-link">JS代码技巧</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Project.html" class="sidebar-link">项目技巧</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-vue-介绍"><a href="#_1-vue-介绍" class="header-anchor">#</a> 1. Vue 介绍</h2> <p>Vue 是一个渐进式 JS 框架，用于构建用户界面。它的核心特点是​​响应式数据绑定​​和​​组件化开发​​，同时提供了从视图层到全栈生态的渐进式解决方案。</p> <p>Vue 的设计借鉴了 MVVM 的思想，尤其是数据驱动视图和双向绑定的特性，但它的组件化架构和灵活性超出了传统 MVVM 的严格定义。</p> <ul><li>​数据绑定机制
<ul><li><strong>​ViewModel层</strong>​​：<code>Vue</code> 的响应式系统（如 <code>data()</code> 或 <code>reactive()</code>）充当 <code>ViewModel</code>，自动同步 <code>View</code> 和 <code>Model</code>。</li> <li><strong>​模板语法​</strong>​：<code>{{}}</code> 和 <code>v-model</code> 实现了双向绑定（类似 MVVM 的 <code>Data Binding</code>）</li></ul></li> <li>与经典 MVVM 的区别
<ul><li>灵活性​​：Vue 允许直接操作 DOM（如 <code>ref</code>），而经典 MVVM 要求完全通过 ViewModel 交互。</li> <li>​职责范围​​：Vue 的组件系统包含逻辑（Methods）和视图（Template），比 MVVM 的 ViewModel 更复杂。</li></ul></li></ul> <h4 id="vue-和-react-的区别"><a href="#vue-和-react-的区别" class="header-anchor">#</a> Vue 和 React 的区别：</h4> <p><strong>相同点</strong>：<br>
 使用 Virtual DOM<br>
 中心思想相同：一切都是组件，组件实例之间可以嵌套；都提供合理的钩子函数</p> <p><strong>不同点</strong>：<br>
 在 React 应用中，当某个组件的状态发生变化时，它会以该组件为根，重新渲染整个组件子树<br>
 在 Vue 应用中，组件的依赖是在渲染过程中自动追踪的，所以系统能精确知晓哪个组件确实需要被重渲染<br>
 React 采用特殊的 JSX 语法，Vue.js 在组件开发中推崇编写.vue 特殊文件格式</p> <h4 id="mvvm-与-mvc-区别"><a href="#mvvm-与-mvc-区别" class="header-anchor">#</a> MVVM 与 MVC 区别:</h4> <p> MVVM 与 MVC 两者之间最大的区别就是：MVVM 实现了对 View 和 Model 的自动同步，也就是当 Model 的属性改变时，我们不用再自己手动操作 Dom 元素来改变 View 的变化，而是改变其属性后，该属性对应的 View 层数据会自动改变。</p> <h2 id="_2-vue-指令"><a href="#_2-vue-指令" class="header-anchor">#</a> 2. Vue 指令</h2> <h3 id="一、数据绑定指令"><a href="#一、数据绑定指令" class="header-anchor">#</a> 一、数据绑定指令</h3> <h4 id="_1、v-bind-属性绑定"><a href="#_1、v-bind-属性绑定" class="header-anchor">#</a> 1、v-bind（属性绑定）</h4> <p>作用​​：动态绑定 HTML 属性或组件 props
简写为一个冒号【 ：】</p> <ul><li>Q​​: v-bind 和普通属性有什么区别？</li> <li>​A​​: v-bind 动态绑定属性值（响应式更新），普通属性是静态字符串。</li></ul> <p><strong>&lt;1&gt;对象语法：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{'is-active':isActive, 'text-danger':hasError}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- data: { isActive: true, hasError: false } --&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>&lt;2&gt;数组语法：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{'is-active':activeClass},errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>12345<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- data: { activeClass: false, errorClass: 'text-danger' } --&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>// 三目运算符绑定
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[loginActive ? 'activeTab' : '','tabpane']<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>&lt;3&gt;直接绑定数据对象：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classObject<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>12345<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- data: { classObject:{ 'is-active': false, 'text-danger':true } } --&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>&lt;4&gt;样式三元运算：</strong></p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token punctuation">:</span>style=<span class="token string">&quot;{'color': countdown.status ? 'blue' : '#FCB11C'}&quot;</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2、v-model-双向绑定"><a href="#_2、v-model-双向绑定" class="header-anchor">#</a> 2、v-model（双向绑定）</h4> <p>表单输入双向绑定（语法糖）。
v-model 会忽略所有表单元素的 value、checked、selected 特性的初始值，因为它选择 Vue 实例数据做为具体的值。</p> <ul><li><strong>作用</strong>​​：表单输入双向绑定（语法糖）。</li> <li><strong>原理​</strong>​：v-bind + v-on 的组合。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;message&quot;</span><span class="token operator">&gt;</span>  
<span class="token operator">&lt;</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;selected&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;A&quot;</span><span class="token operator">&gt;</span><span class="token constant">A</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>修饰符​​：
<ul><li><code>.lazy</code>：转为 change 事件后更新</li> <li><code>.trim</code>：自动去除首尾空格</li></ul></li></ul> <h3 id="二、条件渲染指令"><a href="#二、条件渲染指令" class="header-anchor">#</a> 二、条件渲染指令</h3> <h4 id="_1、v-if-和-v-show-的区别"><a href="#_1、v-if-和-v-show-的区别" class="header-anchor">#</a> 1、v-if 和 v-show 的区别</h4> <p><strong>相同点：</strong><br>
 v-if 与 v-show 都可以动态控制 dom 元素显示隐藏<br> <strong>不同点：</strong><br>
 v-if 显示隐藏是将 dom 元素整个添加或删除<br>
 而 v-show 隐藏则是为该元素添加 css--display:none，此时 dom 元素还在</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>如果需要非常频繁地切换，则使用 v-show 较好</li> <li>如果在运行时条件很少改变，则使用 v-if 较好</li></ul></div> <h3 id="三、列表渲染指令"><a href="#三、列表渲染指令" class="header-anchor">#</a> 三、列表渲染指令</h3> <p><strong>​作用</strong>​​：遍历数组或对象。
​<strong>​语法​</strong>​：(item, index) in items 或 (value, key) in object。</p> <p>有下面两种遍历形式</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 使用in，index是一个可选参数，表示当前项的索引 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item,index) in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 使用of --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item of items<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>​关键点​​：
<ul><li>​必须加 <code>:key</code>​​：帮助 Vue 高效更新虚拟 DOM（唯一标识）。</li> <li>​避免 <code>v-for</code> 和 <code>v-if</code> 同级使用​​：优先级问题（Vue 2 中 <code>v-for</code> 优先，Vue 3 中 <code>v-if</code> 优先）。</li></ul></li></ul> <p>当 v-for 和 v-if 处于同⼀个节点时， <strong>v-for 的优先级⽐ v-if 更⾼</strong>，这意味着 v-if 将分别重复
运⾏于每个 v-for 循环中。如果要遍历的数组很⼤，⽽真正要展示的数据很少时，这将造成很⼤的性
能浪费。这种场景建议使⽤ computed ，先对数据进⾏过滤</p> <h3 id="四、事件处理指令"><a href="#四、事件处理指令" class="header-anchor">#</a> 四、事件处理指令</h3> <p>v-on 主要用来监听 dom 事件，以便执行一些代码块。表达式可以是一个方法名<br>
简写为：【 @ 】</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;handleClick&quot;</span><span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input @input<span class="token operator">=</span><span class="token string">&quot;onInput&quot;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>修饰符​​：
<ul><li><code>.stop</code>：阻止事件冒泡</li> <li><code>.prevent</code>：阻止默认行为</li> <li><code>.once</code>：只触发一次</li></ul></li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="五、特殊指令"><a href="#五、特殊指令" class="header-anchor">#</a> 五、特殊指令</h3> <ol><li>v-slot（插槽）<br>
​<strong>​作用</strong>​​：定义具名插槽或作用域插槽。<br> <strong>​简写​</strong>​：#</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- 子组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 父组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#header</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ user }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>用户名: {{ user.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li>v-pre<br> <strong>​作用</strong>​​：跳过该元素及其子元素的编译。</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>{{ 这里不会编译 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>v-cloak<br>
​<strong>​作用</strong>​​：解决初始化时模板闪烁问题。<br>
配合 CSS​​：</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">[v-cloak]</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="其他指令"><a href="#其他指令" class="header-anchor">#</a> 其他指令</h3> <h4 id="_1-v-text"><a href="#_1-v-text" class="header-anchor">#</a> 1. v-text</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>v-text 主要用来更新 textContent，可以等同于 JS 的 text 属性</p> <p><code>{{}}</code>是它的另一种写法， v-text与<code>{{}}</code>等价，<code>{{}}</code>叫模板插值，v-text叫指令</p> <p><strong>区别：在渲染数据比较多的时候，<code>{{}}</code>可能会把大括号显示出来，俗称屏幕闪动</strong></p> <h4 id="_2-v-html"><a href="#_2-v-html" class="header-anchor">#</a> 2. v-html</h4> <p>双大括号的方式会将数据解释为纯文本，而非 HTML
为了输出真正的 HTML，可以用 v-html 指令
它等同于 JS 的 innerHtml 属性</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rawHtml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个 div 的内容将会替换成属性值 rawHtml，直接作为 HTML 进行渲染</p> <ul><li>在⽹站上动态渲染任意 HTML，很容易导致 XSS 攻击。所以只能在可信内容上使⽤ v-html，且永远不
能⽤于⽤户提交的内容上</li></ul> <h4 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令：</h4> <p>有的情况下，需要对普通 DOM 元素进行底层操作，这时候就会用到自定义指令</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 局部注册指令</span>
  <span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 指令的定义</span>
    <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>input v<span class="token operator">-</span>focus<span class="token operator">&gt;</span> <span class="token comment">// 在元素上使用指令</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>指令注意事项：</strong></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>1、当 v-for 和 v-if 处于同一节点，v-for 的优先级比 v-if 更高，永远不要把 v-if 和 v-for 同时用在同一个元素上</li> <li>2、如果一组 v-if + v-else 的元素类型相同，最好使用 key</li></ul></div> <h2 id="_3-父子组件间通信"><a href="#_3-父子组件间通信" class="header-anchor">#</a> 3.父子组件间通信</h2> <h4 id="_3-1、-父组件-传数据-子组件"><a href="#_3-1、-父组件-传数据-子组件" class="header-anchor">#</a> 3-1、 父组件 传数据 子组件</h4> <p>parent.vue:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>children</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>toChildData</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parentSourceData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>children</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>children.vue:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;toChildData&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-2、-父组件-调用-子组件-方法"><a href="#_3-2、-父组件-调用-子组件-方法" class="header-anchor">#</a> 3-2、 父组件 调用 子组件 方法</h4> <p>parent.vue:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>children</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refChildrenName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>children</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>method:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>refChildrenName<span class="token punctuation">.</span><span class="token function">子组件的方法名</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-3、-子组件-传数据-父组件"><a href="#_3-3、-子组件-传数据-父组件" class="header-anchor">#</a> 3-3、 子组件 传数据 父组件</h4> <p>parent.vue:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>children</span> <span class="token attr-name"><span class="token namespace">v-on:</span>fromChild</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parentMethod<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>children</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>children.vue:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;fromChild&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3-4、-子组件-调用-父组件方法"><a href="#_3-4、-子组件-调用-父组件方法" class="header-anchor">#</a> 3-4、 子组件 调用 父组件方法</h4> <p>parent.vue:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>children</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>children</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>children.vue:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span><span class="token function">parentMethod</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者在子组件里用$emit 向父组件触发一个事件，父组件监听这个事件就行了</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">@fatherMethod</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fatherMethod<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>

childMethod() { this.$emit('fatherMethod'); }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_3-5、-子组件使用-sync-修饰符"><a href="#_3-5、-子组件使用-sync-修饰符" class="header-anchor">#</a> 3-5、 子组件使用.sync 修饰符</h4> <h2 id="_4-组件上总是必须用-key"><a href="#_4-组件上总是必须用-key" class="header-anchor">#</a> 4.组件上总是必须用 key</h2> <p>key 的作用是为了在 diff 算法执行时更快的找到对应的节点，提高 diff 速度。<br> <strong>key 一般用每个元素对应固定不变的值，如 id</strong>，对于数组索引 index 由于在插入数据时会变化，不推荐使用<br> <strong>注意：有相同父元素的子元素必须有独特的 key。重复的 key 会造成渲染错误，常见于 v-for 循环渲染。</strong></p> <h2 id="_5-proxy-与-object-defineproperty-对比"><a href="#_5-proxy-与-object-defineproperty-对比" class="header-anchor">#</a> 5.Proxy 与 Object.defineProperty 对比</h2> <p>Object.defineProperty 虽然已经能够实现双向绑定了，但是他还是有缺陷的</p> <p>1、只能对属性进行数据劫持，所以需要深度遍历整个对象<br>
2、对于数组不能监听到数据的变化<br>
3、Proxy 的第二个参数可以有 13 种拦截方法，比 Object.defineProperty() 要更加丰富<br>
4、Proxy 的兼容性不如 Object.defineProperty() 不能使用 polyfill 来处理兼容性
Proxy 能够原生支持监听数组变化，并且可以直接对整个对象进行拦截</p> <p>所以在 Vue3.0 中使用 Proxy 代替 Object.defineProperty</p> <h4 id="备注-vue2-对数组的监听"><a href="#备注-vue2-对数组的监听" class="header-anchor">#</a> 备注：vue2 对数组的监听：</h4> <p>Vue 包含一组观察数组的变异方法（改变原数组），所以它们也将会触发视图更新。这些方法如 push()等 7 种：<br>
对于非变异方法如 slice()，可以用新数组替换旧数组 arr = arr.slice(1)<br>
由于 JavaScript 的限制，<strong>Vue 不能检测以下变动的数组</strong><br>
1、直接设置一个项时，例如：vm.items[indexOfItem] = newValue<br>
2、修改数组的长度时，例如：vm.items.length = newLength 或者 vm.items.length++<br>
解决方法：<br>
对于第一种：Vue.set(vm.items, indexOfItem, newValue) 或者 vm.$set(vm.items, indexOfItem, newValue)<br>
对于第二种：vm.items.splice(newLength)</p> <h2 id="_6-组件的-data-必须是一个函数"><a href="#_6-组件的-data-必须是一个函数" class="header-anchor">#</a> 6.组件的 data 必须是一个函数</h2> <p>因为组件是要共享的，但他们的 data 是私有的。
如果 data 是一个普通的对象，则所有的实例将共享引用同一个数据对象。
因此组件的 data 必须是一个函数，这样每个实例可以维护一份被返回对象的独立的拷贝</p> <h4 id="注-在一-vue-的根实例上-data-直接使用对象是可以的"><a href="#注-在一-vue-的根实例上-data-直接使用对象是可以的" class="header-anchor">#</a> 注： 在一 Vue 的根实例上 data 直接使用对象是可以的</h4> <p>因为只存在一个这样的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_7-keep-alive"><a href="#_7-keep-alive" class="header-anchor">#</a> 7.keep-alive</h2> <p>vue2.0 提供了一个 keep-alive 组件，
用来缓存组件,主要用于保留组件状态或避免重新渲染。<br> <strong>activated：</strong> keep-alive 组件激活时调用<br> <strong>deactivated：</strong> keep-alive 组件停用时调用</p> <h2 id="_8-方法-methods-、计算属性-computed-、侦听属性-watch"><a href="#_8-方法-methods-、计算属性-computed-、侦听属性-watch" class="header-anchor">#</a> 8.方法(methods)、计算属性(computed)、侦听属性(watch)</h2> <p>计算属性是基于它们的依赖进行缓存，只有在相关依赖发生改变时它们才会重新求值<br>
缓存的作用：对于性能开销较大的计算不需重复执行<br>
缺点：像 Date.now()的计算属性就不再更新,因为 Date.now() 不是响应式依赖，如果你不希望有缓存，用方法来替代。<br>
计算属性默认只有 getter ，也可以提供一个 setter ：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">comItem</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newval</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 触发顺序：页面首次加载触发get，数据变动时先触发set，然后在触发get</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="methods-vs-computed"><a href="#methods-vs-computed" class="header-anchor">#</a> methods VS computed</h4> <p>重新计算开销很大的话,选 computed; 不希望有缓存的选 methods</p> <h4 id="computed-vs-watch"><a href="#computed-vs-watch" class="header-anchor">#</a> computed VS watch</h4> <p>watch 有新旧值两个参数, 计算属性没有,但是计算属性可以从 setter 获得新值，computed 对于多数据变动，watch 适用于一个数据变动，watch 的对象必须事先声明，而 computed 则不用。</p> <p>computed 计算属性，是依赖其他属性的计算值，并且有缓存，只有当依赖的值变化时才会更新。<br>
watch 是在监听的属性发⽣变化时，在回调中执⾏⼀些逻辑。<br>
所以， computed 适合在模板渲染中，某个值是依赖了其他的响应式对象甚⾄是计算属性计算⽽来，<br>
⽽ watch 适合监听某个值的变化去完成⼀段复杂的业务逻辑。</p> <h2 id="_9-过滤器"><a href="#_9-过滤器" class="header-anchor">#</a> 9.过滤器</h2> <p>过滤器可以用在两个地方：双花括号插值和 v-bind 表达式 (后者从 2.1.0+ 开始支持)。过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符号指示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在双花括号中 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> capitalize <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">v-bind</span><span class="token template-punctuation string">`</span></span> 中 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;rawId | formatId&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">capitalize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
    value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Vue3移除了过滤器，可以用过 <strong>方法（Methods）​</strong>、​<strong>计算属性（Computed）​​</strong>、<strong>app.config.globalProperties</strong>、<strong>自定义指令（Directives）​</strong>来实现。</p> <h2 id="_10-vue-ref"><a href="#_10-vue-ref" class="header-anchor">#</a> 10.Vue ref</h2> <p>ref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 $refs 对象上。<br>
如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>当 v-for 用于元素或组件的时候，引用信息将是包含 DOM 节点或组件实例的数组。</li> <li>除了可以获取dom元素，还能获取子组件中的data和去调用子组件中的方法</li></ul></div> <h2 id="_11-vue-hooks"><a href="#_11-vue-hooks" class="header-anchor">#</a> 11.Vue hooks</h2> <h4 id="_1、内部监听生命周期函数"><a href="#_1、内部监听生命周期函数" class="header-anchor">#</a> 1、内部监听生命周期函数</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 监听窗口发生变化，resize组件</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$_handleResizeChart<span class="token punctuation">)</span>
  <span class="token comment">// 通过hook监听组件销毁钩子函数，并取消监听事件</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$_handleResizeChart<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2、外部监听生命周期函数"><a href="#_2、外部监听生命周期函数" class="header-anchor">#</a> 2、外部监听生命周期函数</h4> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--通过@hook:updated监听组件的updated生命钩子函数--&gt;</span>
  <span class="token comment">&lt;!--组件的所有生命周期钩子都可以通过@hook:钩子函数名 来监听触发--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-select</span> <span class="token attr-name"><span class="token namespace">@hook:</span>updated</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$_handleSelectUpdated<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> CustomSelect <span class="token keyword">from</span> <span class="token string">'../components/custom-select'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    CustomSelect
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">$_handleSelectUpdated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'custom-select组件的updated钩子函数被触发'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_12-vue-nexttick-的原理和用途"><a href="#_12-vue-nexttick-的原理和用途" class="header-anchor">#</a> 12. Vue.nextTick 的原理和用途</h2> <h3 id="核心用途​"><a href="#核心用途​" class="header-anchor">#</a> 核心用途​</h3> <h4 id="​-1-获取更新后的-dom​​"><a href="#​-1-获取更新后的-dom​​" class="header-anchor">#</a> ​(1) 获取更新后的 DOM​​</h4> <p>Vue 的数据更新是 ​​异步​​ 的，直接修改数据后立即访问 <code>DOM</code>，可能获取的是 ​​旧值​​。使用 <code>nextTick</code> 可以确保在 <code>​​DOM</code> 更新后​​ 再执行操作：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">&quot;更新后的消息&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 修改数据</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取更新后的 DOM 内容</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-在组件渲染完成后操作​"><a href="#_2-在组件渲染完成后操作​" class="header-anchor">#</a> (2) 在组件渲染完成后操作​</h4> <p>例如，在 mounted 钩子中访问 DOM 元素：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;my-element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 确保 DOM 已渲染</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-解决-v-if-切换后的-dom-操作​"><a href="#_3-解决-v-if-切换后的-dom-操作​" class="header-anchor">#</a> (3) 解决 v-if 切换后的 DOM 操作​</h4> <p>当 <code>v-if</code> 切换显示时，<code>DOM</code> 不会立即更新，<code>nextTick</code> 可以确保操作在 <code>DOM</code> 更新后执行：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>showModal <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 显示模态框</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>modal<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 确保模态框已渲染</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="实现原理​"><a href="#实现原理​" class="header-anchor">#</a> 实现原理​</h3> <h4 id="​-1-vue-的异步更新机制​​"><a href="#​-1-vue-的异步更新机制​​" class="header-anchor">#</a> ​(1) Vue 的异步更新机制​​</h4> <p>Vue 的数据更新是 ​​批量异步​​ 的（类似 <code>Promise.then</code> 或 <code>setTimeout</code>），目的是优化性能（避免频繁 DOM 操作）。
当数据变化时，Vue 不会立即更新 DOM，而是把更新任务推入 ​​异步队列​​，并在下一个 ​​事件循环（<code>Event Loop</code>）​​ 中执行。</p> <h4 id="​-2-nexttick-的实现方式​​"><a href="#​-2-nexttick-的实现方式​​" class="header-anchor">#</a> ​(2) nextTick 的实现方式​​</h4> <p>Vue 内部使用 ​​微任务（<code>Microtask</code>）​​ 或 ​​宏任务（<code>Macrotask</code>）​​ 来执行回调：</p> <ul><li>​优先使用 <code>Promise.then</code>（微任务）​​（现代浏览器支持）</li> <li>如果不支持 <code>Promise</code>，则降级到 <code>MutationObserver</code>（微任务）</li> <li>再不支持，则使用 <code>setImmediate（Node.js）</code>或 <code>setTimeout</code>（宏任务）</li></ul> <h4 id="​-3-nexttick-和-settimeout-fn-0-的区别-​"><a href="#​-3-nexttick-和-settimeout-fn-0-的区别-​" class="header-anchor">#</a> ​(3) nextTick 和 setTimeout(fn, 0) 的区别？​</h4> <table><thead><tr><th style="text-align:center;">​​nextTick</th> <th style="text-align:center;">setTimeout(fn, 0)</th></tr></thead> <tbody><tr><td style="text-align:center;">优先使用 ​<strong>微任务​</strong><code>（Promise/MutationObserver）</code></td> <td style="text-align:center;">使用 <strong>​​宏任务</strong>​</td></tr> <tr><td style="text-align:center;">确保在 ​​Vue DOM 更新后​​ 执行</td> <td style="text-align:center;">不保证在 Vue 更新后执行​</td></tr> <tr><td style="text-align:center;">更高效，适合 Vue 内部更新</td> <td style="text-align:center;">可能比 nextTick 慢​</td></tr></tbody></table> <h4 id="​-4-vue3-的-nexttick-能结合-async-await​"><a href="#​-4-vue3-的-nexttick-能结合-async-await​" class="header-anchor">#</a> ​(4) Vue3 的$nextTick() 能结合 async/await​</h4> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加一项并打印列表高度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> nextTick <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'苹果'</span><span class="token punctuation">,</span> <span class="token string">'香蕉'</span><span class="token punctuation">,</span> <span class="token string">'橙子'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取列表 DOM 的引用</span>

<span class="token keyword">const</span> <span class="token function-variable function">addItem</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 添加新项（触发异步 DOM 更新）</span>
  items<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'芒果'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 2. 👇 关键对比点：尝试直接读取高度（可能错误！）</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'无 nextTick 高度:'</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span>value<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ❌ 可能是旧值</span>
  <span class="token comment">// 3. 等待 DOM 更新完成</span>
  <span class="token keyword">await</span> <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 4. 此时读取正确高度</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有 nextTick 高度:'</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span>value<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ 保证是新值</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_13-vue单向数据流"><a href="#_13-vue单向数据流" class="header-anchor">#</a> 13. Vue单向数据流</h2> <p><strong>子组件不可以修改父组件传递的Prop</strong></p> <ul><li>定义​​：
<ul><li>数据从父组件流向子组件，子组件不能直接修改父组件传递的数据，必须通过​​事件通知​​父组件自行更新（通过$emit 或者 通过.sync修饰符 ）。</li></ul></li> <li>​类比​​：
<ul><li>​父组件​​：像公司的老板（拥有数据）。</li> <li>​子组件​​：像员工（接收老板分发的任务，但不能直接修改老板的决策，只能反馈建议）。</li></ul></li></ul> <h3 id="为什么-vue-要这样设计"><a href="#为什么-vue-要这样设计" class="header-anchor">#</a> 为什么 Vue 要这样设计？</h3> <ul><li><strong>可维护性​​</strong> <ul><li>数据变更源头唯一（父组件），避免子组件随意修改导致的混乱。</li> <li>数据流清晰，便于调试（变更来源可追溯）。</li></ul></li> <li><strong>​防止意外副作用​​</strong> <ul><li>如果子组件能直接修改父组件数据，多个子组件同时修改时可能引发冲突。</li></ul></li> <li><strong>​与 React/Angular 的统一​​</strong> <ul><li>主流框架均采用单向数据流，降低开发者跨框架学习成本。</li></ul></li></ul> <h3 id="常见误区与纠正"><a href="#常见误区与纠正" class="header-anchor">#</a> 常见误区与纠正</h3> <h4 id="误区-1-v-model-是双向绑定-违反单向数据流"><a href="#误区-1-v-model-是双向绑定-违反单向数据流" class="header-anchor">#</a> 误区 1：v-model 是双向绑定，违反单向数据流？</h4> <p>纠正​​：<code>v-model</code> 是语法糖，本质仍是<strong>单向数据流 + 事件通知</strong>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;message&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 等价于 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;message&quot;</span> @input<span class="token operator">=</span><span class="token string">&quot;message = $event.target.value&quot;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="误区-2-子组件修改对象类型的-prop-属性不算破坏单向流"><a href="#误区-2-子组件修改对象类型的-prop-属性不算破坏单向流" class="header-anchor">#</a> 误区 2：子组件修改对象类型的 Prop 属性不算破坏单向流？</h4> <p>纠正​​：直接修改对象属性（如 <code>props.user.name = 'new'</code>）​​技术上可行，但违背设计原则​​。正确做法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 子组件中</span>
<span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update-user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token operator">...</span>props<span class="token punctuation">.</span>user<span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'new'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通知父组件更新</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_14-vue的性能优化"><a href="#_14-vue的性能优化" class="header-anchor">#</a> 14. Vue的性能优化</h2> <p>尽量减少data中的数据，data中的数据都会增加getter和setter，会收集对应的watcher<br>
v-if和v-for不能连⽤<br>
如果需要使⽤v-for给每项元素绑定事件时使⽤事件代理<br>
SPA ⻚⾯采⽤keep-alive缓存组件<br>
key保证唯⼀<br>
使⽤路由懒加载、异步组件<br>
第三⽅模块按需导⼊
⻓列表滚动到可视区域动态加载
图⽚懒加载</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <ul><li><p>Vue 不能挂载在 body、html 这样的根节点上</p></li> <li><p>router.push 只能跳转路由内部的页面，要想跳转到外部页面，可以使用 window.location.href</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">5/17/2025, 5:52:24 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Front-end-go-on/pages/frontend/base/MyArticle.html" class="prev">
        我的文章
      </a></span> <span class="next"><a href="/Front-end-go-on/pages/frontend/frame/advanced/Vue.html">
        Vue2进阶
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Front-end-go-on/assets/js/app.a3428af7.js" defer></script><script src="/Front-end-go-on/assets/js/2.16ec2cb2.js" defer></script><script src="/Front-end-go-on/assets/js/44.aef0a355.js" defer></script>
  </body>
</html>
