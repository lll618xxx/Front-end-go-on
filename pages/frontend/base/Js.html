<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. JS 的数据类型 | 首页</title>
    <meta name="description" content="前端记录">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/Front-end-go-on/logo.png">
    
    <link rel="preload" href="/Front-end-go-on/assets/css/0.styles.f50bc5a9.css" as="style"><link rel="preload" href="/Front-end-go-on/assets/js/app.f1a10889.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/2.a5bbd26b.js" as="script"><link rel="preload" href="/Front-end-go-on/assets/js/10.79dfd36c.js" as="script"><link rel="prefetch" href="/Front-end-go-on/assets/js/11.fa7c825e.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/12.07e80788.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/13.5649d5c1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/14.50bc58a6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/15.e384a0a1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/16.ecbe10fe.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/17.6ba58f99.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/18.972979d8.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/19.38d7480c.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/20.e01260cd.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/21.cc07e1c9.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/22.fa70a677.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/23.a5b224d3.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/24.4896c7d0.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/25.6c6b5144.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/26.7b003c11.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/27.533c0f3c.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/28.ccd23640.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/29.fd248460.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/3.3ffa2b80.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/30.7e1fe7fa.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/31.35c04ab1.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/32.66a85d81.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/33.e10e64f8.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/34.c5e2b73a.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/35.e0e0b23c.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/4.42c30e57.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/5.2f088d07.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/6.3d9fc0c6.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/7.45655631.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/8.6a89a565.js"><link rel="prefetch" href="/Front-end-go-on/assets/js/9.27a4e9ce.js">
    <link rel="stylesheet" href="/Front-end-go-on/assets/css/0.styles.f50bc5a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Front-end-go-on/" class="home-link router-link-active"><img src="/Front-end-go-on/logo.png" alt="首页" class="logo"> <span class="site-name can-hide">首页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/otherLang/node/base.html" class="nav-link">
  非前端
</a></div><div class="nav-item"><a href="/Front-end-go-on/pages/assit/chrome/Extension.html" class="nav-link">
  辅助
</a></div><div class="nav-item"><a href="https://github.com/lll618xxx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/base/Html.html" class="sidebar-link">HTML基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Css.html" class="sidebar-link">CSS基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Js.html" class="active sidebar-link">JS基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_1-js-的数据类型" class="sidebar-link">1. JS 的数据类型</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_2-tpyeof-可以返回多少种值" class="sidebar-link">2. tpyeof 可以返回多少种值</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_3-js-中-new-一个对象会发生什么" class="sidebar-link">3. js 中 new 一个对象会发生什么</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_4-预解析" class="sidebar-link">4. 预解析</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_5-call、apply-和-bind-的理解" class="sidebar-link">5. call、apply 和 bind 的理解</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_6-事件绑定-3-种方法" class="sidebar-link">6. 事件绑定 3 种方法</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_7-事件冒泡、捕获和阻止" class="sidebar-link">7. 事件冒泡、捕获和阻止</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_8-事件委托" class="sidebar-link">8. 事件委托</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_9-dom-事件中-currenttarget-和-target-的区别" class="sidebar-link">9. dom 事件中 currentTarget 和 target 的区别</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_10-script-中-defer-和-async-的区别" class="sidebar-link">10. script 中 defer 和 async 的区别</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_11-this-指向" class="sidebar-link">11. this 指向</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_12-事件执行机制" class="sidebar-link">12. 事件执行机制</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_13-js-继承方式总结" class="sidebar-link">13. jS 继承方式总结</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_14-原型和原型链" class="sidebar-link">14.原型和原型链</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_15-闭包" class="sidebar-link">15. 闭包</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_16-节流和防抖" class="sidebar-link">16. 节流和防抖</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_17-settimeout-和-setinterval-的运行机制" class="sidebar-link">17. setTimeout 和 setInterval 的运行机制</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_18-js-循环" class="sidebar-link">18. js 循环</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_19-跨域是什么，怎么解决" class="sidebar-link">19. 跨域是什么，怎么解决</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_20-关于-js-的堆栈和拷贝" class="sidebar-link">20. 关于 JS 的堆栈和拷贝</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_21-内存泄漏是什么" class="sidebar-link">21. 内存泄漏是什么</a></li><li class="sidebar-sub-header"><a href="/Front-end-go-on/pages/frontend/base/Js.html#_22-web-安全" class="sidebar-link">22. WEB 安全</a></li></ul></li><li><a href="/Front-end-go-on/pages/frontend/base/Algorithm.html" class="sidebar-link">数据结构基础</a></li><li><a href="/Front-end-go-on/pages/frontend/base/Http.html" class="sidebar-link">Http基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码练习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/exercise/Css.html" class="sidebar-link">CSS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Js.html" class="sidebar-link">JS代码练习</a></li><li><a href="/Front-end-go-on/pages/frontend/exercise/Algorithm.html" class="sidebar-link">算法代码练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端代码技巧</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/skill/Css.html" class="sidebar-link">CSS代码技巧</a></li><li><a href="/Front-end-go-on/pages/frontend/skill/Js.html" class="sidebar-link">JS代码技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front-end-go-on/pages/frontend/frame/base/Vue.html" class="sidebar-link">Vue基础</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/advanced/Vue.html" class="sidebar-link">Vue进阶</a></li><li><a href="/Front-end-go-on/pages/frontend/frame/base/React.html" class="sidebar-link">React基础</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-js-的数据类型"><a href="#_1-js-的数据类型" class="header-anchor">#</a> 1. JS 的数据类型</h2> <p><strong>6 种简单数据类型</strong>： undefined、null、boolean、number、string 和 symbol(ES6)<br> <strong>1 种复杂的数据类型</strong>： Object
<strong>基本数据类型</strong>：String，Boolean， Number， Null， Undefined<br> <strong>引用数据类型</strong>：Object(Array, Date, RegExp, Function)</p> <h4 id="boolean、number、string-这三个是-javascript-中的基本包装类型，也就是这三个其实是一个构造函数，他们是-function-的实例，是引用类型"><a href="#boolean、number、string-这三个是-javascript-中的基本包装类型，也就是这三个其实是一个构造函数，他们是-function-的实例，是引用类型" class="header-anchor">#</a> Boolean、Number、String 这三个是 Javascript 中的基本包装类型，也就是这三个其实是一个构造函数，他们是 Function 的实例，是引用类型</h4> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>需要注意的是 typeof null 返回为 object，因为特殊值 null 被认为是一个空的对象引用。undefined 值是派生自 null 值的，因此 ECMA-262 规定对它们的相等性测试要返回 true</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-tpyeof-可以返回多少种值"><a href="#_2-tpyeof-可以返回多少种值" class="header-anchor">#</a> 2. tpyeof 可以返回多少种值</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">3232</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
<span class="token keyword">let</span> un <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">let</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
<span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// function</span>
<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;sym&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol (ES6)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_3-js-中-new-一个对象会发生什么"><a href="#_3-js-中-new-一个对象会发生什么" class="header-anchor">#</a> 3. js 中 new 一个对象会发生什么</h2> <ul><li>1.创建了一个新对象</li> <li>2.将新创建的空对象的隐式原型指向其构造函数的显示原型</li> <li>3.将 this 指向这个新对象</li> <li>4.返回该新对象</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> b<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_4-预解析"><a href="#_4-预解析" class="header-anchor">#</a> 4. 预解析</h2> <h4 id="所谓的预解析就是：在当前作用域中，javascript-代码执行之前，浏览器首先会默认的把所有带-var-和-function-声明的变量进行提前的声明或者定义。"><a href="#所谓的预解析就是：在当前作用域中，javascript-代码执行之前，浏览器首先会默认的把所有带-var-和-function-声明的变量进行提前的声明或者定义。" class="header-anchor">#</a> 所谓的预解析就是：在当前作用域中，JavaScript 代码执行之前，浏览器首先会默认的把所有带 var 和 function 声明的变量进行提前的声明或者定义。</h4> <h4 id="var-声明的变量和-function-声明的函数在预解析的区别"><a href="#var-声明的变量和-function-声明的函数在预解析的区别" class="header-anchor">#</a> var 声明的变量和 function 声明的函数在预解析的区别</h4> <ul><li><p>var 声明的变量和 function 声明的函数在预解析的时候有区别，var 声明的变量在预解析的时候只是提前的声明，
function 声明的函数在预解析的时候会提前声明并且会同时定义。也就是说 var 声明的变量和 function 声明的函数的区别是在声明的同时有没同时进行定义。</p></li> <li><p>预解析只发生在当前的作用域下
程序最开始的时候，只对 window 下的变量和函数进行预解析，只有函数执行的时候才会对函数中的变量很函数进行预解析。</p></li></ul> <h2 id="_5-call、apply-和-bind-的理解"><a href="#_5-call、apply-和-bind-的理解" class="header-anchor">#</a> 5. call、apply 和 bind 的理解</h2> <h4 id="call、apply-和-bind-是-function-对象自带的三个方法，属于对象冒充，可以调用另外一个对象的方法，同时改变函数体内部-this-的指向。"><a href="#call、apply-和-bind-是-function-对象自带的三个方法，属于对象冒充，可以调用另外一个对象的方法，同时改变函数体内部-this-的指向。" class="header-anchor">#</a> call、apply 和 bind 是 Function 对象自带的三个方法，属于对象冒充，可以调用另外一个对象的方法，同时改变函数体内部 this 的指向。</h4> <ul><li>apply、call、bind 三者第一个参数都是 this 要指向的对象，也就是想指定的上下文</li> <li>apply、call、bind 三者都可以利用后续参数传参</li> <li>bind 是返回对应 函数，便于稍后调用；apply 、call 则是立即调用</li> <li>apply：调用一个对象的一个方法，用另一个对象替换当前对象。例如：B.apply(A, arguments);即 A 对象应用 B 对象的方法</li> <li>call：调用一个对象的一个方法，用另一个对象替换当前对象。例如：B.call(A, args1,args2);即 A 对象调用 B 对象的方法</li> <li>call 可以传入多个参数；apply 只能传入两个参数，所以其第二个参数往往是作为数组形式传入</li></ul> <h5 id="自己动手实现-call-方法"><a href="#自己动手实现-call-方法" class="header-anchor">#</a> 自己动手实现 call 方法</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="自己动手实现-apply-方法"><a href="#自己动手实现-apply-方法" class="header-anchor">#</a> 自己动手实现 apply 方法</h5> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> res<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> obj<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_6-事件绑定-3-种方法"><a href="#_6-事件绑定-3-种方法" class="header-anchor">#</a> 6. 事件绑定 3 种方法</h2> <p><strong>1、HTML 事件处理(在 dom 元素中嵌入)</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fn()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>缺点：<br>
1、this 指向 window<br>
2、HTML 与 JS 紧密耦合，改动代码麻烦</li></ul></div> <p><strong>2、DOM0 级事件处理(获取 dom 元素直接绑定)</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> fn<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>优点：<br>
1、this 指向 dom 元素<br>
2、不存在浏览器兼容问题</li></ul></div> <p><strong>3、DOM2 级事件处理(事件监听)</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>优点：<br>
1、this 指向 dom 元素</li> <li>缺点：<br>
1、需要对 IE8 及以下进行兼容</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>tip: document.getElementById('btn').attachEvent('click',fn)<br>
由于 IE8 及以下只支持事件冒泡，所以通过 attachEvent 都会被添加到冒泡阶段<br>
IE 中的 attachEvent 中的 this 总是指向全局对象 Window</p></div> <h2 id="_7-事件冒泡、捕获和阻止"><a href="#_7-事件冒泡、捕获和阻止" class="header-anchor">#</a> 7. 事件冒泡、捕获和阻止</h2> <h4 id="事件冒泡：即事件开始时由最具体的元素-文档中嵌套层数最深的那个点-接收，然后逐级向上传播到较为不具体的节点-文档"><a href="#事件冒泡：即事件开始时由最具体的元素-文档中嵌套层数最深的那个点-接收，然后逐级向上传播到较为不具体的节点-文档" class="header-anchor">#</a> 事件冒泡：即事件开始时由最具体的元素(文档中嵌套层数最深的那个点)接收，然后逐级向上传播到较为不具体的节点(文档)</h4> <blockquote><p>由 div -&gt; body -&gt; html -&gt; document</p></blockquote> <h4 id="事件捕获：不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件"><a href="#事件捕获：不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件" class="header-anchor">#</a> 事件捕获：不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件</h4> <blockquote><p>由 document -&gt; html -&gt; body -&gt; div</p></blockquote> <p>因为老版本的不支持，因此很少会用事件捕获,多数在事件冒泡下处理程序</p> <p><strong>DOM2 级规定的事件流包括三个阶段：事件捕获阶段、处于目标阶段、事件冒泡阶段</strong></p> <h4 id="阻止事件冒泡：event-stoppropagation"><a href="#阻止事件冒泡：event-stoppropagation" class="header-anchor">#</a> 阻止事件冒泡：event.stopPropagation()</h4> <p>一个阻止事件冒泡的办法就是使用 event.stopPropagation()<br>
在 IE&lt;9 的浏览器上使用 event.cancelBubble = true</p> <h4 id="取消事件的默认行为：preventdefault"><a href="#取消事件的默认行为：preventdefault" class="header-anchor">#</a> 取消事件的默认行为：preventDefault()</h4> <p>1、在其他浏览器中调用方法 e.preventDefault()<br>
2、在 IE 浏览器中通过 e.returnValue = false</p> <h4 id="当-return-false-的时候"><a href="#当-return-false-的时候" class="header-anchor">#</a> 当 return false“的时候</h4> <p>在 DOM0 级事件中，可以像 event.preventDefault() 取消默认事件，但是在 DOM2 级则不行</p> <h4 id="stopimmediatepropagation"><a href="#stopimmediatepropagation" class="header-anchor">#</a> stopImmediatePropagation()</h4> <p>这个方法会停止一个事件继续执行，即使当前的对象上还绑定了其它处理函数<br>
所有绑定在一个对象上的事件会按绑定顺序执行</p> <h2 id="_8-事件委托"><a href="#_8-事件委托" class="header-anchor">#</a> 8. 事件委托</h2> <p>也叫事件代理</p> <ul><li>好处：
节省内存：每个函数都是一个对象，是对象就会占用内存，对象越多，内存占用率就越大<br>
不需要为每个子节点注销事件<br>
不知道子节点的具体数量时(下拉加载图片)</li> <li>原理：<br>
事件委托是利用事件的冒泡原理来实现的<br>
通过 e.target 获取具体子元素</li></ul> <h2 id="_9-dom-事件中-currenttarget-和-target-的区别"><a href="#_9-dom-事件中-currenttarget-和-target-的区别" class="header-anchor">#</a> 9. dom 事件中 currentTarget 和 target 的区别</h2> <ul><li>本质区别是：<br>
event.target 返回触发事件的元素<br>
event.currentTarget 返回绑定事件的元素</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> #0e91e1</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;currentTarget:&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;target:&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

点击div时: currentTarget: body target: div 点击body时: currentTarget: body
target: body
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_10-script-中-defer-和-async-的区别"><a href="#_10-script-中-defer-和-async-的区别" class="header-anchor">#</a> 10. script 中 defer 和 async 的区别</h2> <ul><li>defer 和 async 都是只适用于外部的脚本文件，都是用来告诉浏览器立即下载文件，但是延迟执行</li> <li>这些脚本文件会等到 body 的内容执行完才执行<br>
在 HTML5 的规范中，defer 属性要求脚本是按照出现的先后顺序执行，但是在现实中，defer 属性的脚本不一定会按照顺序执行<br>
而 async 属性的脚本执行的顺序并不确定</li></ul> <h2 id="_11-this-指向"><a href="#_11-this-指向" class="header-anchor">#</a> 11. this 指向</h2> <ul><li>在普通函数中，this 的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定 this 到底指向谁，实际上 this 的最终指向的是那个调用它的对象</li> <li>在箭头函数中，this 的指向是定义时所在的对象，而不是使用时所在的对象</li></ul> <h2 id="_12-事件执行机制"><a href="#_12-事件执行机制" class="header-anchor">#</a> 12. 事件执行机制</h2> <ul><li><p>javascript 是一门单线程语言<br>
JS 在执行的过程中会产生执行环境，这些执行环境会被按照顺序的加入到执行栈中<br>
同步和异步任务分别进入不同的执行&quot;场所&quot;，同步的进入主线程，异步的代码，会被挂起并加入到 Task（有多种 task） 队列中</p></li> <li><p>除了广义的同步任务和异步任务，还包括有更加精确的微任务和宏任务<br> <strong>微任务</strong>包括 process.nextTick，promise，Object.observe，MutationObserver<br> <strong>宏任务</strong>包括 script，setTimeout，setInterval，setImmediate，I/O，UI rendering</p></li> <li><p>所以正确的一次 Event loop 顺序是这样的<br>
1.执行同步代码，这属于宏任务<br>
2.执行栈为空，查询是否有微任务需要执行<br>
3.执行所有微任务<br>
4.必要的话渲染 UI<br>
5.然后开始下一轮 Event loop，执行宏任务中的异步代码</p></li></ul> <h2 id="_13-js-继承方式总结"><a href="#_13-js-继承方式总结" class="header-anchor">#</a> 13. jS 继承方式总结</h2> <ul><li>借用构造函数继承</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Children</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 或apply</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>缺点：父类原型上的东西是没法继承的，因此函数复用也就无从谈起</p> <ul><li>原型链继承</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Children</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Children</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这种方式确实解决了上面借用构造函数继承方式的缺点<br>
但是，这种方式仍有缺点:实例化了两个 Child 原型链上中的原型对象它俩是共用的</p> <ul><li>组合继承</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Children</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Children</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Children</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Children<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>ES6 继承</li></ul> <p>Class 可以通过 extends 关键字实现继承</p> <h2 id="_14-原型和原型链"><a href="#_14-原型和原型链" class="header-anchor">#</a> 14.原型和原型链</h2> <h4 id="prototype-属性："><a href="#prototype-属性：" class="header-anchor">#</a> prototype 属性：</h4> <p>这是一个显式原型属性，只有函数才拥有该属性。</p> <h4 id="proto-属性："><a href="#proto-属性：" class="header-anchor">#</a> <em>proto</em> 属性：</h4> <p>这是每个对象都有的隐式原型属性，指向了创建该对象的构造函数的原型。</p> <h4 id="什么是原型链："><a href="#什么是原型链：" class="header-anchor">#</a> 什么是原型链：</h4> <ul><li>原型链：实例与原型之间的链接</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>由于 __proto__ 是任何对象都有的属性，而 js 里万物都是对象，所以会形成一条__proto__连起来的链条，递归访问__proto__必须最终到头，并且值是 null

在寻找对象方法的时候，会先寻找自身的方法，如果没有，就会通过__proto__去寻找该构造函数原型上的方法，如果没有，就会进一步寻找 Object 原型上的方法，直到最后指向 null。像这样通过__proto__连起来的链条寻找 prototype 就叫原型链
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><br> <img src="/Front-end-go-on/assets/img/proto.622d3b1f.png" alt="原型和原型链"> <h2 id="_15-闭包"><a href="#_15-闭包" class="header-anchor">#</a> 15. 闭包</h2> <ul><li>1、概念：有权访问另一个函数作用域和变量的函数，创建闭包最简单的方式就是在一个函数内部创建另一个函数。</li> <li>2、好处：由于可以读取函数内部的变量，如果希望一个变量常驻于内存中又可全局访问，同时又想避免全局变量的污染，此时使用闭包就是一种恰当的方式</li> <li>3、缺点：但正是因为函数内部变量被外部所引用，不会被垃圾回收，就会造成常驻内存，使用过多容易造成内存泄漏</li></ul> <h2 id="_16-节流和防抖"><a href="#_16-节流和防抖" class="header-anchor">#</a> 16. 节流和防抖</h2> <ul><li>防抖和节流的作用都是防止函数多次调用
区别在于，假设一个用户一直触发这个函数，且每次触发函数的间隔小于 wait，防抖的情况下只会调用一次（你越点我，我就越不执行）<br>
而节流的 情况会每隔一定时间（参数 wait）调用函数。</li></ul> <h4 id="手写防抖"><a href="#手写防抖" class="header-anchor">#</a> 手写防抖</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="手写节流"><a href="#手写节流" class="header-anchor">#</a> 手写节流</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        timeout <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_17-settimeout-和-setinterval-的运行机制"><a href="#_17-settimeout-和-setinterval-的运行机制" class="header-anchor">#</a> 17. setTimeout 和 setInterval 的运行机制</h2> <p>setTimeout() 和 setInterval() 都是属于定时器，同属于 window 方法，所以 this 会指向 window，它们的区别在于 setTimeout 只调用一次，而 setInterval 是重复调用。它们两者都是属于异步机制，属于宏任务，只是在指定的时间里将要执行的内容放到任务队列里。</p> <ul><li>使用 setInterval 会出现两个问题
(1) 某些时间间隔会被跳过<br>
(2) 多个定时器代码的执行之间的间隔可能会比预期的小</li></ul> <h2 id="_18-js-循环"><a href="#_18-js-循环" class="header-anchor">#</a> 18. js 循环</h2> <ul><li>1、最早遍历数组的方法：for</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>2、ES5 的 forEach 遍历数组</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>但是你不能使用 break 和 return 来退出循环</p></div> <ul><li>3、ES5 的 for-in 循环</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//string</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>4、ES6 的 for-of 循环</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>for in 是 ES5 标准，遍历 key，for of 是 ES6 标准，遍历 value<br>
推荐在循环对象属性的时候，使用 for...in,在遍历数组的时候的时候使用 for...of
for...of 不能循环普通的对象，需要通过和 Object.keys()搭配使用</p> <ul><li><p><strong>for in 遍历数组是一个糟糕的选择</strong><br>
1.index 索引为字符串型数字，不能直接进行几何运算<br>
2.遍历顺序有可能不是按照实际数组的内部顺序<br>
3.使用 for in 会遍历数组所有的可枚举属性，包括原型。例如上栗的原型方法 method 和 name 属性。 所以 for in 更适合遍历对象，不要使用 for in 遍历数组<br>
4.for-in 这个代码是为普通对象设计的,不适用于数组的遍历</p></li> <li><p><strong>for of 用于遍历数组</strong><br>
for..of 适用遍历数/数组对象/字符串/map/set 等拥有迭代器对象的集合.但是不能遍历对象,因为没有迭代器对象.与 forEach()不同的是，它可以正确响应 break、continue 和 return 语句<br>
for-of 循环不支持普通对象，但如果你想迭代一个对象的属性，你可以用 for-in 循环（这也是它的本职工作）或内建的 Object.keys()方法：</p></li></ul> <h2 id="_19-跨域是什么，怎么解决"><a href="#_19-跨域是什么，怎么解决" class="header-anchor">#</a> 19. 跨域是什么，怎么解决</h2> <p>跨域指的是浏览器出于安全考虑的同源策略，当从一个地址向另外一个地址请求资源时，协议、域名、端口号任意一个不同都属于跨域</p> <ul><li><p>什么是同源策略
同源策略是浏览器的一个安全功能，不同源的客户端脚本在没有明确授权的情况下，不能读写对方资源。</p></li> <li><p>解决方法</p></li></ul> <h4 id="_1、-jsonp-json-with-padding"><a href="#_1、-jsonp-json-with-padding" class="header-anchor">#</a> 1、 JSONP(JSON With Padding):</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>JSONP 实现跨域请求的原理简单的说，就是利用&lt;script&gt;的 src 不受同源策略约束来跨域获取数据
jsonp 只支持 get 请求而不支持 post 请求
JSONP 的优势在于支持老式浏览器，以及可以向不支持 CORS 的网站请求数据。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2、cors-全称是-跨域资源共享-（cross-origin-resource-sharing）"><a href="#_2、cors-全称是-跨域资源共享-（cross-origin-resource-sharing）" class="header-anchor">#</a> 2、CORS (全称是&quot;跨域资源共享&quot;（Cross-origin resource sharing）):</h4> <p>参考：https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS
CORS 原理：使用自定义的 HTTP 头部让浏览器和服务器沟通<br>
如添加一个额外的 Origin 头部，包含请求页面的的地址信息（协议、域名、端口号）<br>
在后台设置 Access-Control-Allow-Origin 即可</p> <h5 id="cors-预检请求："><a href="#cors-预检请求：" class="header-anchor">#</a> CORS 预检请求：</h5> <p>使用 OPTIONS 方法发起一个预检请求到服务器，以获知服务器是否允许该实际请求。<br>
&quot;预检请求“的使用，可以避免跨域请求对服务器的用户数据产生未预期的影响。</p> <h5 id="简单请求："><a href="#简单请求：" class="header-anchor">#</a> 简单请求：</h5> <p>某些请求不会触发 CORS 预检请求。本文称这样的请求为“简单请求”</p> <ul><li>满足简单请求的条件：<br>
1、请求为 GET、HEAD、POST 其一<br>
2、请求字段满足 CORS 安全集合的字段<br>
3、Content-Type 有限制</li></ul> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// 允许访问源</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Allow-Origin:\*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 允许访问的有效期</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Max-Age:86400'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 允许访问的方法</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Access-Control-Allow-Methods:OPTIONS, GET, POST, DELETE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>其他跨域：
document.domain + iframe 跨域<br>
window.name + iframe 跨域<br>
html5 的 postMessage<br>
img 的 src 属性、link 的 href 属性、script 的 src 属性<br>
websocket</li></ul> <h2 id="_20-关于-js-的堆栈和拷贝"><a href="#_20-关于-js-的堆栈和拷贝" class="header-anchor">#</a> 20. 关于 JS 的堆栈和拷贝</h2> <h4 id="_1、栈-stack-和堆-heap"><a href="#_1、栈-stack-和堆-heap" class="header-anchor">#</a> 1、栈(stack)和堆(heap)</h4> <p>stack 为自动分配的内存空间，它由系统自动释放<br>
而 heap 则是动态分配的内存，大小不定也不会自动释放</p> <h4 id="_2、基本类型和引用类型"><a href="#_2、基本类型和引用类型" class="header-anchor">#</a> 2、基本类型和引用类型</h4> <p>基本类型：存放在栈内存中的简单数据段，数据大小确定，内存空间大小可以分配<br>
5 种基本数据类型有 Undefined、Null、Boolean、Number 和 String，它们是直接按值存放的，所以可以直接访问。<br>
引用类型：存放在堆内存中的对象，变量实际保存的是一个指针，这个指针指向另一个位置。每个空间大小不一样，要根据情况开进行特定的分配。<br>
当我们需要访问引用类型（如对象，数组，函数等）的值时，首先从栈中获得该对象的地址指针，然后再从堆内存中取得所需的数据</p> <h4 id="_3、浅拷贝"><a href="#_3、浅拷贝" class="header-anchor">#</a> 3、浅拷贝</h4> <p>前面已经提到，在定义一个对象或数组时，变量存放的往往只是一个地址。当我们使用对象拷贝时，如果属性是对象或数组时，这时候我们传递的也只是一个地址<br>
因此子对象在访问该属性时，会根据地址回溯到父对象指向的堆内存中，即父子对象发生了关联，两者的属性值会指向同一内存空间</p> <h4 id="_4、深拷贝"><a href="#_4、深拷贝" class="header-anchor">#</a> 4、深拷贝</h4> <p>我们不希望父子对象之间产生关联，那么这时候可以用到深拷贝<br>
既然属性值类型是数组和或象时只会传址，那么我们就用递归来解决这个问题，把父对象中所有属于对象的属性类型都遍历赋给子对象即可</p> <h5 id="实现深拷贝："><a href="#实现深拷贝：" class="header-anchor">#</a> 实现深拷贝：</h5> <p>JSON.parse() 方法用于将一个 JSON 字符串转换为对象<br>
JSON.stringify() 方法用于将 JavaScript 值（通常为对象或数组）转换为 JSON 字符串
<strong>该方法也是有局限性的：</strong>
会忽略 undefined<br>
会忽略 symbol<br>
不能序列化函数<br>
不能解决循环引用的对象 -&gt; 报错：Converting circular structure to JSON *可以用 lodash 来深拷贝函数</p> <p>ES6：Object.assign(）和展开运算符(...)对于深浅拷贝的结果是一样<br>
如果拷贝的层数超过了一层的话，那么就会进行浅拷贝</p> <h2 id="_21-内存泄漏是什么"><a href="#_21-内存泄漏是什么" class="header-anchor">#</a> 21. 内存泄漏是什么</h2> <p>本质上，内存泄漏可以定义为一个应用，由于某些原因不再需要的内存没有被操作系统或者空闲内存池回收</p> <h4 id="_1、意外的全局变量"><a href="#_1、意外的全局变量" class="header-anchor">#</a> 1、意外的全局变量</h4> <ul><li>在一个函数你忘记用变量声明符(var 或 let)来声明的变量，一个意外的全局变量就被创建了</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  str <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>在函数中通过 this 赋予变量，在函数中，this 指向 window</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>str <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>为了阻止这种错误发生，在你的 Javascript 文件最前面添加'use strict;'
这开启了解析 JavaScript 的阻止意外全局的更严格的模式<br>
如果必须用全局变量来存储很多数据，在处理完之后，确保对其清零或重新赋值</p> <h4 id="_2、定时器-settimeout-setinterval-以及回调函数"><a href="#_2、定时器-settimeout-setinterval-以及回调函数" class="header-anchor">#</a> 2、定时器 setTimeout setInterval 以及回调函数</h4> <p>当不需要 setInterval 或者 setTimeout 时，定时器没有被 clear，定时器的回调函数以及内部依赖的变量都不能被回收，造成内存泄漏<br>
比如：vue 使用了定时器，需要在 beforeDestroy 中做对应销毁处理。js 也是一样的</p> <h4 id="_3、闭包-在全局作用域上保留着闭包局部变量的引用"><a href="#_3、闭包-在全局作用域上保留着闭包局部变量的引用" class="header-anchor">#</a> 3、闭包(在全局作用域上保留着闭包局部变量的引用)</h4> <h4 id="_4、移除存在绑定事件的-dom-元素-ie8-及以下"><a href="#_4、移除存在绑定事件的-dom-元素-ie8-及以下" class="header-anchor">#</a> 4、移除存在绑定事件的 DOM 元素(IE8 及以下)</h4> <h4 id="_5、循环引用"><a href="#_5、循环引用" class="header-anchor">#</a> 5、循环引用</h4> <h2 id="_22-web-安全"><a href="#_22-web-安全" class="header-anchor">#</a> 22. WEB 安全</h2> <h4 id="_1、xss：跨站脚本（cross-site-scripting）"><a href="#_1、xss：跨站脚本（cross-site-scripting）" class="header-anchor">#</a> 1、XSS：跨站脚本（Cross-site scripting）</h4> <p>利用恶意脚本，攻击者可获取用户的敏感信息如 Cookie 等<br>
根据攻击的来源，XSS 攻击可分为反射型、存储型和 DOM 型三种。</p> <h5 id="_1、反射型"><a href="#_1、反射型" class="header-anchor">#</a> 1、反射型</h5> <p>反射型 XSS 只是简单地把用户输入的数据反射给浏览器。往往需要引诱用户点击一个链接，才能攻击成功</p> <h5 id="_2、存储型"><a href="#_2、存储型" class="header-anchor">#</a> 2、存储型</h5> <p>存储型会把用户输入的数据“存储”在服务器端。比如说评论功能</p> <ul><li>XSS 的防御措施：
1、使用 cookie 的 httpOnly 属性，加上了这个属性的 cookie 字段，js 是无法进行读写的<br>
2、对输入输出进行过滤转义<br>
3、内容安全策略 (CSP) 通过 HTTP Header 中的 Content-Security-Policy 来开启 CSP</li></ul> <h4 id="_2、csrf：跨站请求伪造（cross-site-request-forgery）"><a href="#_2、csrf：跨站请求伪造（cross-site-request-forgery）" class="header-anchor">#</a> 2、CSRF：跨站请求伪造（Cross-site request forgery）</h4> <p>CSRF 的攻击主要是在用户不知情的情况下，冒充用户偷偷发了请求</p> <ul><li><p>要完成一次 CSRF 攻击，受害者必须依次完成两个步骤：
1、登录受信任网站 A，并在本地生成 Cookie<br>
2、在不登出 A 的情况下，访问危险网站 B。</p></li> <li><p>CSRF 防御措施：
1、检测 http referer 是否是同域名<br>
2、避免登录的 session 长时间存储在客户端中<br>
3、关键请求使用验证码或者 token 机制</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">4/6/2020, 6:18:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Front-end-go-on/pages/frontend/base/Css.html" class="prev">
        CSS基础
      </a></span> <span class="next"><a href="/Front-end-go-on/pages/frontend/base/Algorithm.html">
        数据结构基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Front-end-go-on/assets/js/app.f1a10889.js" defer></script><script src="/Front-end-go-on/assets/js/2.a5bbd26b.js" defer></script><script src="/Front-end-go-on/assets/js/10.79dfd36c.js" defer></script>
  </body>
</html>
